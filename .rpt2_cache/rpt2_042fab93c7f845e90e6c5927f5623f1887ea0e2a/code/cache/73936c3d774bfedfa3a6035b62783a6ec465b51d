{
  "code": "import { defaultCompare, Compare, swap, reverseCompare } from \"../util\";\r\nexport class MinHeap {\r\n    constructor(compareFn = defaultCompare) {\r\n        this.compareFn = compareFn;\r\n        this.heap = [];\r\n    }\r\n    getLeftIndex(index) {\r\n        return 2 * index + 1;\r\n    }\r\n    getRightIndex(index) {\r\n        return 2 * index + 2;\r\n    }\r\n    getParentIndex(index) {\r\n        if (index === 0)\r\n            return undefined;\r\n        return Math.floor((index - 1) / 2);\r\n    }\r\n    size() {\r\n        return this.heap.length;\r\n    }\r\n    isEmpty() {\r\n        return this.size() <= 0;\r\n    }\r\n    clear() {\r\n        this.heap = [];\r\n    }\r\n    findMinimum() {\r\n        return this.isEmpty() ? undefined : this.heap[0];\r\n    }\r\n    insert(value) {\r\n        if (value != null) {\r\n            const index = this.heap.length;\r\n            this.heap.push(value);\r\n            this.siftUp(index);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    siftDown(index) {\r\n        let element = index;\r\n        const left = this.getLeftIndex(index);\r\n        const right = this.getRightIndex(index);\r\n        const size = this.size();\r\n        if (left < size && this.compareFn(this.heap[element], this.heap[left]) === Compare.BIGGER_THAN)\r\n            element = left;\r\n        if (right < size && this.compareFn(this.heap[element], this.heap[right]) === Compare.BIGGER_THAN)\r\n            element = right;\r\n        if (index !== element) {\r\n            swap(this.heap, index, element);\r\n            this.siftDown(element);\r\n        }\r\n    }\r\n    siftUp(index) {\r\n        let parent = this.getParentIndex(index);\r\n        while (index > 0 && this.compareFn(this.heap[parent], this.heap[index]) === Compare.BIGGER_THAN) {\r\n            swap(this.heap, parent, index);\r\n            index = parent;\r\n            parent = this.getParentIndex(index);\r\n        }\r\n    }\r\n    extract() {\r\n        if (this.isEmpty())\r\n            return undefined;\r\n        if (this.size() === 1)\r\n            return this.heap.shift();\r\n        const removedValue = this.heap[0];\r\n        this.heap[0] = this.heap.pop();\r\n        this.siftDown(0);\r\n        return removedValue;\r\n    }\r\n    heapify(array) {\r\n        if (array)\r\n            this.heap = array;\r\n        for (let i = Math.floor(this.size() / 2); i >= 0; --i)\r\n            this.siftDown(i);\r\n        return this.heap;\r\n    }\r\n    heapSort1(array, compareFn = defaultCompare) {\r\n        this.heapify(array);\r\n        let sortedArray = [];\r\n        let l = this.size();\r\n        for (let i = 0; i < l; i++)\r\n            sortedArray.push(this.extract());\r\n        return this.heap = sortedArray;\r\n    }\r\n    getAsArray() {\r\n        return this.heap;\r\n    }\r\n}\r\nexport class MaxHeap extends MinHeap {\r\n    constructor(compareFn = defaultCompare) {\r\n        super(compareFn);\r\n        this.compareFn = compareFn;\r\n        this.compareFn = reverseCompare(compareFn);\r\n    }\r\n}\r\n//# sourceMappingURL=Heap.js.map",
  "references": [
    "D:/widgets/LayaDataStructuresAlgorithms/src/util.ts"
  ],
  "map": "{\"version\":3,\"file\":\"Heap.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/data_structures/Heap.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAoB,cAAc,EAAE,OAAO,EAAE,IAAI,EAAE,cAAc,EAAE,MAAM,SAAS,CAAC;AAE1F,MAAM,OAAO,OAAO;IAGhB,YAAsB,YAAiC,cAAc;QAA/C,cAAS,GAAT,SAAS,CAAsC;QAF3D,SAAI,GAAQ,EAAE,CAAC;IAEgD,CAAC;IAElE,YAAY,CAAC,KAAa;QAC9B,OAAO,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC;IACzB,CAAC;IAEO,aAAa,CAAC,KAAa;QAC/B,OAAO,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC;IACzB,CAAC;IAEO,cAAc,CAAC,KAAa;QAChC,IAAI,KAAK,KAAK,CAAC;YAAE,OAAO,SAAS,CAAC;QAClC,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACvC,CAAC;IAEM,IAAI;QACP,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;IAC5B,CAAC;IAEM,OAAO;QACV,OAAO,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC5B,CAAC;IAEM,KAAK;QACR,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;IACnB,CAAC;IAEM,WAAW;QACd,OAAO,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACrD,CAAC;IAEM,MAAM,CAAC,KAAQ;QAClB,IAAI,KAAK,IAAI,IAAI,EAAE;YACf,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YAC/B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACtB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACnB,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAEO,QAAQ,CAAC,KAAa;QAC1B,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,MAAM,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QACtC,MAAM,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACxC,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;QAEzB,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,OAAO,CAAC,WAAW;YAAE,OAAO,GAAG,IAAI,CAAC;QAC/G,IAAI,KAAK,GAAG,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,OAAO,CAAC,WAAW;YAAE,OAAO,GAAG,KAAK,CAAC;QAElH,IAAI,KAAK,KAAK,OAAO,EAAE;YACnB,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;YAChC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;SAC1B;IACL,CAAC;IAEO,MAAM,CAAC,KAAa;QACxB,IAAI,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QACxC,OAAO,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,OAAO,CAAC,WAAW,EAAE;YAC7F,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;YAC/B,KAAK,GAAG,MAAM,CAAC;YACf,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;SACvC;IACL,CAAC;IAEM,OAAO;QACV,IAAI,IAAI,CAAC,OAAO,EAAE;YAAE,OAAO,SAAS,CAAC;QACrC,IAAI,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC;YAAE,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;QAEhD,MAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAClC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACjB,OAAO,YAAY,CAAC;IACxB,CAAC;IAEM,OAAO,CAAC,KAAU;QACrB,IAAI,KAAK;YAAE,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAC7B,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;YAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACvE,OAAO,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;IAEM,SAAS,CAAC,KAAU,EAAE,YAAiC,cAAc;QACxE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACpB,IAAI,WAAW,GAAQ,EAAE,CAAC;QAC1B,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;QACpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;YAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;QAC5D,OAAO,IAAI,CAAC,IAAI,GAAG,WAAW,CAAC;IACnC,CAAC;IAEM,UAAU;QACb,OAAO,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;CACJ;AAED,MAAM,OAAO,OAAW,SAAQ,OAAU;IACtC,YAAsB,YAAiC,cAAc;QACjE,KAAK,CAAC,SAAS,CAAC,CAAC;QADC,cAAS,GAAT,SAAS,CAAsC;QAEjE,IAAI,CAAC,SAAS,GAAG,cAAc,CAAC,SAAS,CAAC,CAAC;IAC/C,CAAC;CACJ\"}"
}
