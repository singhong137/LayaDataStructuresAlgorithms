{
  "code": "import { Const } from \"../Const\";\r\nimport { SpriteConst } from \"../display/SpriteConst\";\r\nimport { Filter } from \"../filters/Filter\";\r\nimport { Matrix } from \"../maths/Matrix\";\r\nimport { Rectangle } from \"../maths/Rectangle\";\r\nimport { Texture } from \"../resource/Texture\";\r\nimport { WebGLRTMgr } from \"../resource/WebGLRTMgr\";\r\nimport { Stat } from \"../utils/Stat\";\r\nimport { BlendMode } from \"../webgl/canvas/BlendMode\";\r\nimport { WebGLCacheAsNormalCanvas } from \"../webgl/canvas/WebGLCacheAsNormalCanvas\";\r\nimport { ShaderDefines2D } from \"../webgl/shader/d2/ShaderDefines2D\";\r\nimport { Value2D } from \"../webgl/shader/d2/value/Value2D\";\r\nimport { SubmitCMD } from \"../webgl/submit/SubmitCMD\";\r\nimport { WebGLContext } from \"../webgl/WebGLContext\";\r\nimport { LayaGLQuickRunner } from \"./LayaGLQuickRunner\";\r\nimport { ILaya } from \"../../ILaya\";\r\nexport class RenderSprite {\r\n    constructor(type, next) {\r\n        if (LayaGLQuickRunner.map[type]) {\r\n            this._fun = LayaGLQuickRunner.map[type];\r\n            this._next = RenderSprite.NORENDER;\r\n            return;\r\n        }\r\n        this._next = next || RenderSprite.NORENDER;\r\n        switch (type) {\r\n            case 0:\r\n                this._fun = this._no;\r\n                return;\r\n            case SpriteConst.ALPHA:\r\n                this._fun = this._alpha;\r\n                return;\r\n            case SpriteConst.TRANSFORM:\r\n                this._fun = this._transform;\r\n                return;\r\n            case SpriteConst.BLEND:\r\n                this._fun = this._blend;\r\n                return;\r\n            case SpriteConst.CANVAS:\r\n                this._fun = this._canvas;\r\n                return;\r\n            case SpriteConst.MASK:\r\n                this._fun = this._mask;\r\n                return;\r\n            case SpriteConst.CLIP:\r\n                this._fun = this._clip;\r\n                return;\r\n            case SpriteConst.STYLE:\r\n                this._fun = this._style;\r\n                return;\r\n            case SpriteConst.GRAPHICS:\r\n                this._fun = this._graphics;\r\n                return;\r\n            case SpriteConst.CHILDS:\r\n                this._fun = this._children;\r\n                return;\r\n            case SpriteConst.CUSTOM:\r\n                this._fun = this._custom;\r\n                return;\r\n            case SpriteConst.TEXTURE:\r\n                this._fun = this._texture;\r\n                return;\r\n            case SpriteConst.FILTERS:\r\n                this._fun = Filter._filter;\r\n                return;\r\n            case RenderSprite.INIT:\r\n                this._fun = RenderSprite._initRenderFun;\r\n                return;\r\n        }\r\n        this.onCreate(type);\r\n    }\r\n    static __init__() {\r\n        LayaGLQuickRunner.__init__();\r\n        var i, len;\r\n        var initRender;\r\n        initRender = new RenderSprite(RenderSprite.INIT, null);\r\n        len = RenderSprite.renders.length = SpriteConst.CHILDS * 2;\r\n        for (i = 0; i < len; i++)\r\n            RenderSprite.renders[i] = initRender;\r\n        RenderSprite.renders[0] = new RenderSprite(0, null);\r\n        function _initSame(value, o) {\r\n            var n = 0;\r\n            for (var i = 0; i < value.length; i++) {\r\n                n |= value[i];\r\n                RenderSprite.renders[n] = o;\r\n            }\r\n        }\r\n    }\r\n    static _initRenderFun(sprite, context, x, y) {\r\n        var type = sprite._renderType;\r\n        var r = RenderSprite.renders[type] = RenderSprite._getTypeRender(type);\r\n        r._fun(sprite, context, x, y);\r\n    }\r\n    static _getTypeRender(type) {\r\n        if (LayaGLQuickRunner.map[type])\r\n            return new RenderSprite(type, null);\r\n        var rst = null;\r\n        var tType = SpriteConst.CHILDS;\r\n        while (tType > 0) {\r\n            if (tType & type)\r\n                rst = new RenderSprite(tType, rst);\r\n            tType = tType >> 1;\r\n        }\r\n        return rst;\r\n    }\r\n    onCreate(type) {\r\n    }\r\n    _style(sprite, context, x, y) {\r\n        var style = sprite._style;\r\n        if (style.render != null)\r\n            style.render(sprite, context, x, y);\r\n        var next = this._next;\r\n        next._fun.call(next, sprite, context, x, y);\r\n    }\r\n    _no(sprite, context, x, y) {\r\n    }\r\n    _custom(sprite, context, x, y) {\r\n        sprite.customRender(context, x, y);\r\n        this._next._fun.call(this._next, sprite, context, x - sprite.pivotX, y - sprite.pivotY);\r\n    }\r\n    _clip(sprite, context, x, y) {\r\n        var next = this._next;\r\n        if (next == RenderSprite.NORENDER)\r\n            return;\r\n        var r = sprite._style.scrollRect;\r\n        var width = r.width;\r\n        var height = r.height;\r\n        if (width === 0 || height === 0) {\r\n            return;\r\n        }\r\n        context.save();\r\n        context.clipRect(x, y, width, height);\r\n        next._fun.call(next, sprite, context, x - r.x, y - r.y);\r\n        context.restore();\r\n    }\r\n    _texture(sprite, context, x, y) {\r\n        var tex = sprite.texture;\r\n        if (tex._getSource())\r\n            context.drawTexture(tex, x - sprite.pivotX + tex.offsetX, y - sprite.pivotY + tex.offsetY, sprite._width || tex.width, sprite._height || tex.height);\r\n        var next = this._next;\r\n        if (next != RenderSprite.NORENDER)\r\n            next._fun.call(next, sprite, context, x, y);\r\n    }\r\n    _graphics(sprite, context, x, y) {\r\n        var style = sprite._style;\r\n        var g = sprite._graphics;\r\n        g && g._render(sprite, context, x - style.pivotX, y - style.pivotY);\r\n        var next = this._next;\r\n        if (next != RenderSprite.NORENDER)\r\n            next._fun.call(next, sprite, context, x, y);\r\n    }\r\n    _image(sprite, context, x, y) {\r\n        var style = sprite._style;\r\n        context.drawTexture2(x, y, style.pivotX, style.pivotY, sprite.transform, sprite._graphics._one);\r\n    }\r\n    _image2(sprite, context, x, y) {\r\n        var style = sprite._style;\r\n        context.drawTexture2(x, y, style.pivotX, style.pivotY, sprite.transform, sprite._graphics._one);\r\n    }\r\n    _alpha(sprite, context, x, y) {\r\n        var style = sprite._style;\r\n        var alpha;\r\n        if ((alpha = style.alpha) > 0.01 || sprite._needRepaint()) {\r\n            var temp = context.globalAlpha;\r\n            context.globalAlpha *= alpha;\r\n            var next = this._next;\r\n            next._fun.call(next, sprite, context, x, y);\r\n            context.globalAlpha = temp;\r\n        }\r\n    }\r\n    _transform(sprite, context, x, y) {\r\n        var transform = sprite.transform, _next = this._next;\r\n        var style = sprite._style;\r\n        if (transform && _next != RenderSprite.NORENDER) {\r\n            context.save();\r\n            context.transform(transform.a, transform.b, transform.c, transform.d, transform.tx + x, transform.ty + y);\r\n            _next._fun.call(_next, sprite, context, 0, 0);\r\n            context.restore();\r\n        }\r\n        else {\r\n            if (_next != RenderSprite.NORENDER)\r\n                _next._fun.call(_next, sprite, context, x, y);\r\n        }\r\n    }\r\n    _children(sprite, context, x, y) {\r\n        var style = sprite._style;\r\n        var childs = sprite._children, n = childs.length, ele;\r\n        x = x - sprite.pivotX;\r\n        y = y - sprite.pivotY;\r\n        var textLastRender = sprite._getBit(Const.DRAWCALL_OPTIMIZE) && context.drawCallOptimize(true);\r\n        if (style.viewport) {\r\n            var rect = style.viewport;\r\n            var left = rect.x;\r\n            var top = rect.y;\r\n            var right = rect.right;\r\n            var bottom = rect.bottom;\r\n            var _x, _y;\r\n            for (i = 0; i < n; ++i) {\r\n                if ((ele = childs[i])._visible && ((_x = ele._x) < right && (_x + ele.width) > left && (_y = ele._y) < bottom && (_y + ele.height) > top)) {\r\n                    ele.render(context, x, y);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (var i = 0; i < n; ++i)\r\n                (ele = childs[i])._visible && ele.render(context, x, y);\r\n        }\r\n        textLastRender && context.drawCallOptimize(false);\r\n    }\r\n    _canvas(sprite, context, x, y) {\r\n        var _cacheStyle = sprite._cacheStyle;\r\n        var _next = this._next;\r\n        if (!_cacheStyle.enableCanvasRender) {\r\n            _next._fun.call(_next, sprite, context, x, y);\r\n            return;\r\n        }\r\n        _cacheStyle.cacheAs === 'bitmap' ? (Stat.canvasBitmap++) : (Stat.canvasNormal++);\r\n        var cacheNeedRebuild = false;\r\n        var textNeedRestore = false;\r\n        if (_cacheStyle.canvas) {\r\n            var canv = _cacheStyle.canvas;\r\n            var ctx = canv.context;\r\n            var charRIs = canv.touches;\r\n            if (charRIs) {\r\n                for (var ci = 0; ci < charRIs.length; ci++) {\r\n                    if (charRIs[ci].deleted) {\r\n                        textNeedRestore = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            cacheNeedRebuild = canv.isCacheValid && !canv.isCacheValid();\r\n        }\r\n        if (sprite._needRepaint() || (!_cacheStyle.canvas) || textNeedRestore || cacheNeedRebuild || ILaya.stage.isGlobalRepaint()) {\r\n            if (_cacheStyle.cacheAs === 'normal') {\r\n                if (context._targets) {\r\n                    _next._fun.call(_next, sprite, context, x, y);\r\n                    return;\r\n                }\r\n                else {\r\n                    this._canvas_webgl_normal_repaint(sprite, context);\r\n                }\r\n            }\r\n            else {\r\n                this._canvas_repaint(sprite, context, x, y);\r\n            }\r\n        }\r\n        var tRec = _cacheStyle.cacheRect;\r\n        context.drawCanvas(_cacheStyle.canvas, x + tRec.x, y + tRec.y, tRec.width, tRec.height);\r\n    }\r\n    _canvas_repaint(sprite, context, x, y) {\r\n        var _cacheStyle = sprite._cacheStyle;\r\n        var _next = this._next;\r\n        var tx;\r\n        var canvas = _cacheStyle.canvas;\r\n        var left;\r\n        var top;\r\n        var tRec;\r\n        var tCacheType = _cacheStyle.cacheAs;\r\n        var w, h;\r\n        var scaleX, scaleY;\r\n        var scaleInfo;\r\n        scaleInfo = _cacheStyle._calculateCacheRect(sprite, tCacheType, x, y);\r\n        scaleX = scaleInfo.x;\r\n        scaleY = scaleInfo.y;\r\n        tRec = _cacheStyle.cacheRect;\r\n        w = tRec.width * scaleX;\r\n        h = tRec.height * scaleY;\r\n        left = tRec.x;\r\n        top = tRec.y;\r\n        if (tCacheType === 'bitmap' && (w > 2048 || h > 2048)) {\r\n            console.warn(\"cache bitmap size larger than 2048,cache ignored\");\r\n            _cacheStyle.releaseContext();\r\n            _next._fun.call(_next, sprite, context, x, y);\r\n            return;\r\n        }\r\n        if (!canvas) {\r\n            _cacheStyle.createContext();\r\n            canvas = _cacheStyle.canvas;\r\n        }\r\n        tx = canvas.context;\r\n        tx.sprite = sprite;\r\n        (canvas.width != w || canvas.height != h) && canvas.size(w, h);\r\n        if (tCacheType === 'bitmap')\r\n            tx.asBitmap = true;\r\n        else if (tCacheType === 'normal')\r\n            tx.asBitmap = false;\r\n        tx.clear();\r\n        if (scaleX != 1 || scaleY != 1) {\r\n            var ctx = tx;\r\n            ctx.save();\r\n            ctx.scale(scaleX, scaleY);\r\n            _next._fun.call(_next, sprite, tx, -left, -top);\r\n            ctx.restore();\r\n            sprite._applyFilters();\r\n        }\r\n        else {\r\n            ctx = tx;\r\n            _next._fun.call(_next, sprite, tx, -left, -top);\r\n            sprite._applyFilters();\r\n        }\r\n        if (_cacheStyle.staticCache)\r\n            _cacheStyle.reCache = false;\r\n        Stat.canvasReCache++;\r\n    }\r\n    _canvas_webgl_normal_repaint(sprite, context) {\r\n        var _cacheStyle = sprite._cacheStyle;\r\n        var _next = this._next;\r\n        var canvas = _cacheStyle.canvas;\r\n        var tCacheType = _cacheStyle.cacheAs;\r\n        _cacheStyle._calculateCacheRect(sprite, tCacheType, 0, 0);\r\n        if (!canvas) {\r\n            canvas = _cacheStyle.canvas = new WebGLCacheAsNormalCanvas(context, sprite);\r\n        }\r\n        var tx = canvas.context;\r\n        canvas['startRec']();\r\n        _next._fun.call(_next, sprite, tx, sprite.pivotX, sprite.pivotY);\r\n        sprite._applyFilters();\r\n        Stat.canvasReCache++;\r\n        canvas['endRec']();\r\n    }\r\n    _blend(sprite, context, x, y) {\r\n        var style = sprite._style;\r\n        var next = this._next;\r\n        if (style.blendMode) {\r\n            context.save();\r\n            context.globalCompositeOperation = style.blendMode;\r\n            next._fun.call(next, sprite, context, x, y);\r\n            context.restore();\r\n        }\r\n        else {\r\n            next._fun.call(next, sprite, context, x, y);\r\n        }\r\n    }\r\n    _mask(sprite, context, x, y) {\r\n        var next = this._next;\r\n        var mask = sprite.mask;\r\n        var submitCMD;\r\n        var ctx = context;\r\n        if (mask) {\r\n            ctx.save();\r\n            var preBlendMode = ctx.globalCompositeOperation;\r\n            var tRect = new Rectangle();\r\n            tRect.copyFrom(mask.getBounds());\r\n            tRect.width = Math.round(tRect.width);\r\n            tRect.height = Math.round(tRect.height);\r\n            tRect.x = Math.round(tRect.x);\r\n            tRect.y = Math.round(tRect.y);\r\n            if (tRect.width > 0 && tRect.height > 0) {\r\n                var w = tRect.width;\r\n                var h = tRect.height;\r\n                var tmpRT = WebGLRTMgr.getRT(w, h);\r\n                ctx.breakNextMerge();\r\n                ctx.pushRT();\r\n                ctx.addRenderObject(SubmitCMD.create([ctx, tmpRT, w, h], RenderSprite.tmpTarget, this));\r\n                mask.render(ctx, -tRect.x, -tRect.y);\r\n                ctx.breakNextMerge();\r\n                ctx.popRT();\r\n                ctx.save();\r\n                ctx.clipRect(x + tRect.x - sprite.getStyle().pivotX, y + tRect.y - sprite.getStyle().pivotY, w, h);\r\n                next._fun.call(next, sprite, ctx, x, y);\r\n                ctx.restore();\r\n                preBlendMode = ctx.globalCompositeOperation;\r\n                ctx.addRenderObject(SubmitCMD.create([\"mask\"], RenderSprite.setBlendMode, this));\r\n                var shaderValue = Value2D.create(ShaderDefines2D.TEXTURE2D, 0);\r\n                var uv = Texture.INV_UV;\r\n                ctx.drawTarget(tmpRT, x + tRect.x - sprite.getStyle().pivotX, y + tRect.y - sprite.getStyle().pivotY, w, h, Matrix.TEMP.identity(), shaderValue, uv, 6);\r\n                ctx.addRenderObject(SubmitCMD.create([tmpRT], RenderSprite.recycleTarget, this));\r\n                ctx.addRenderObject(SubmitCMD.create([preBlendMode], RenderSprite.setBlendMode, this));\r\n            }\r\n            ctx.restore();\r\n        }\r\n        else {\r\n            next._fun.call(next, sprite, context, x, y);\r\n        }\r\n    }\r\n    static tmpTarget(ctx, rt, w, h) {\r\n        rt.start();\r\n        rt.clear(0, 0, 0, 0);\r\n    }\r\n    static recycleTarget(rt) {\r\n        WebGLRTMgr.releaseRT(rt);\r\n    }\r\n    static setBlendMode(blendMode) {\r\n        var gl = WebGLContext.mainContext;\r\n        BlendMode.targetFns[BlendMode.TOINT[blendMode]](gl);\r\n    }\r\n}\r\nRenderSprite.INIT = 0x11111;\r\nRenderSprite.renders = [];\r\nRenderSprite.NORENDER = new RenderSprite(0, null);\r\nRenderSprite.tempUV = new Array(8);\r\n//# sourceMappingURL=RenderSprite.js.map",
  "references": [
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/Const.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/display/css/CacheStyle.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/display/css/SpriteStyle.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/display/css/TextStyle.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/display/Graphics.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/display/Sprite.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/display/SpriteConst.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/filters/Filter.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/maths/Matrix.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/maths/Point.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/maths/Rectangle.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/resource/Context.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/resource/HTMLCanvas.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/resource/RenderTexture2D.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/resource/Texture.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/resource/WebGLRTMgr.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/Stat.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/webgl/canvas/BlendMode.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/webgl/canvas/WebGLCacheAsNormalCanvas.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/webgl/shader/d2/ShaderDefines2D.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/webgl/shader/d2/value/Value2D.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/webgl/submit/SubmitCMD.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/webgl/WebGLContext.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/renders/LayaGLQuickRunner.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/ILaya.ts"
  ],
  "map": "{\"version\":3,\"file\":\"RenderSprite.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../libs/laya/renders/RenderSprite.ts\"],\"names\":[],\"mappings\":\"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\"}",
  "dts": {
    "name": "D:/widgets/LayaDataStructuresAlgorithms/.rpt2_cache/placeholder/laya/renders/RenderSprite.d.ts",
    "writeByteOrderMark": false,
    "text": "import { Sprite } from \"../display/Sprite\";\r\nimport { Context } from \"../resource/Context\";\r\nimport { RenderTexture2D } from \"../resource/RenderTexture2D\";\r\nexport declare class RenderSprite {\r\n    static INIT: number;\r\n    static renders: any[];\r\n    protected static NORENDER: RenderSprite;\r\n    _next: RenderSprite;\r\n    _fun: Function;\r\n    static __init__(): void;\r\n    private static _initRenderFun;\r\n    private static _getTypeRender;\r\n    constructor(type: number, next: RenderSprite);\r\n    protected onCreate(type: number): void;\r\n    _style(sprite: Sprite, context: Context, x: number, y: number): void;\r\n    _no(sprite: Sprite, context: Context, x: number, y: number): void;\r\n    _custom(sprite: Sprite, context: Context, x: number, y: number): void;\r\n    _clip(sprite: Sprite, context: Context, x: number, y: number): void;\r\n    _texture(sprite: Sprite, context: Context, x: number, y: number): void;\r\n    _graphics(sprite: Sprite, context: Context, x: number, y: number): void;\r\n    _image(sprite: Sprite, context: Context, x: number, y: number): void;\r\n    _image2(sprite: Sprite, context: Context, x: number, y: number): void;\r\n    _alpha(sprite: Sprite, context: Context, x: number, y: number): void;\r\n    _transform(sprite: Sprite, context: Context, x: number, y: number): void;\r\n    _children(sprite: Sprite, context: Context, x: number, y: number): void;\r\n    _canvas(sprite: Sprite, context: Context, x: number, y: number): void;\r\n    _canvas_repaint(sprite: Sprite, context: Context, x: number, y: number): void;\r\n    _canvas_webgl_normal_repaint(sprite: Sprite, context: Context): void;\r\n    _blend(sprite: Sprite, context: Context, x: number, y: number): void;\r\n    _mask(sprite: Sprite, context: Context, x: number, y: number): void;\r\n    static tempUV: any[];\r\n    static tmpTarget(ctx: Context, rt: RenderTexture2D, w: number, h: number): void;\r\n    static recycleTarget(rt: RenderTexture2D): void;\r\n    static setBlendMode(blendMode: string): void;\r\n}\r\n"
  }
}
