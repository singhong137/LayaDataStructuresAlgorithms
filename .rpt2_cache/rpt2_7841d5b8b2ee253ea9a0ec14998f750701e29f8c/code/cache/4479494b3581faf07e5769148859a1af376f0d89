{
  "code": "import { IPhysics } from \"./IPhysics\";\r\nimport { Laya } from \"../../Laya\";\r\nimport { ColliderBase } from \"./ColliderBase\";\r\nimport { Component } from \"../components/Component\";\r\nimport { Point } from \"../maths/Point\";\r\nimport { Utils } from \"../utils/Utils\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\nexport class RigidBody extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._type = \"dynamic\";\r\n        this._allowSleep = true;\r\n        this._angularVelocity = 0;\r\n        this._angularDamping = 0;\r\n        this._linearVelocity = { x: 0, y: 0 };\r\n        this._linearDamping = 0;\r\n        this._bullet = false;\r\n        this._allowRotation = true;\r\n        this._gravityScale = 1;\r\n        this.group = 0;\r\n        this.category = 1;\r\n        this.mask = -1;\r\n        this.label = \"RigidBody\";\r\n    }\r\n    _createBody() {\r\n        if (this._body || !this.owner)\r\n            return;\r\n        var sp = this.owner;\r\n        var box2d = window.box2d;\r\n        var def = new box2d.b2BodyDef();\r\n        var point = sp.localToGlobal(Point.TEMP.setTo(0, 0), false, IPhysics.Physics.I.worldRoot);\r\n        def.position.Set(point.x / IPhysics.Physics.PIXEL_RATIO, point.y / IPhysics.Physics.PIXEL_RATIO);\r\n        def.angle = Utils.toRadian(sp.rotation);\r\n        def.allowSleep = this._allowSleep;\r\n        def.angularDamping = this._angularDamping;\r\n        def.angularVelocity = this._angularVelocity;\r\n        def.bullet = this._bullet;\r\n        def.fixedRotation = !this._allowRotation;\r\n        def.gravityScale = this._gravityScale;\r\n        def.linearDamping = this._linearDamping;\r\n        var obj = this._linearVelocity;\r\n        if (obj && obj.x != 0 || obj.y != 0) {\r\n            def.linearVelocity = new box2d.b2Vec2(obj.x, obj.y);\r\n        }\r\n        def.type = box2d.b2BodyType[\"b2_\" + this._type + \"Body\"];\r\n        this._body = IPhysics.Physics.I._createBody(def);\r\n        this.resetCollider(false);\r\n    }\r\n    _onAwake() {\r\n        this._createBody();\r\n    }\r\n    _onEnable() {\r\n        var _$this = this;\r\n        this._createBody();\r\n        Laya.physicsTimer.frameLoop(1, this, this._sysPhysicToNode);\r\n        var sp = this.owner;\r\n        if (this.accessGetSetFunc(sp, \"x\", \"set\") && !sp._changeByRigidBody) {\r\n            sp._changeByRigidBody = true;\r\n            function setX(value) {\r\n                _$this.accessGetSetFunc(sp, \"x\", \"set\")(value);\r\n                _$this._sysPosToPhysic();\r\n            }\r\n            this._overSet(sp, \"x\", setX);\r\n            function setY(value) {\r\n                _$this.accessGetSetFunc(sp, \"y\", \"set\")(value);\r\n                _$this._sysPosToPhysic();\r\n            }\r\n            ;\r\n            this._overSet(sp, \"y\", setY);\r\n            function setRotation(value) {\r\n                _$this.accessGetSetFunc(sp, \"rotation\", \"set\")(value);\r\n                _$this._sysNodeToPhysic();\r\n            }\r\n            ;\r\n            this._overSet(sp, \"rotation\", setRotation);\r\n            function setScaleX(value) {\r\n                _$this.accessGetSetFunc(sp, \"scaleX\", \"set\")(value);\r\n                _$this.resetCollider(true);\r\n            }\r\n            ;\r\n            this._overSet(sp, \"scaleX\", setScaleX);\r\n            function setScaleY(value) {\r\n                _$this.accessGetSetFunc(sp, \"scaleY\", \"set\")(value);\r\n                _$this.resetCollider(true);\r\n            }\r\n            ;\r\n            this._overSet(sp, \"scaleY\", setScaleY);\r\n        }\r\n    }\r\n    accessGetSetFunc(obj, prop, accessor) {\r\n        if ([\"get\", \"set\"].indexOf(accessor) === -1) {\r\n            return;\r\n        }\r\n        let privateProp = `_$${accessor}_${prop}`;\r\n        if (obj[privateProp]) {\r\n            return obj[privateProp];\r\n        }\r\n        let ObjConstructor = obj.constructor;\r\n        let des;\r\n        while (ObjConstructor) {\r\n            des = Object.getOwnPropertyDescriptor(ObjConstructor.prototype, prop);\r\n            if (des && des[accessor]) {\r\n                obj[privateProp] = des[accessor].bind(obj);\r\n                break;\r\n            }\r\n            ObjConstructor = Object.getPrototypeOf(ObjConstructor);\r\n        }\r\n        return obj[privateProp];\r\n    }\r\n    resetCollider(resetShape) {\r\n        var comps = this.owner.getComponents(ColliderBase);\r\n        if (comps) {\r\n            for (var i = 0, n = comps.length; i < n; i++) {\r\n                var collider = comps[i];\r\n                collider.rigidBody = this;\r\n                if (resetShape)\r\n                    collider.resetShape();\r\n                else\r\n                    collider.refresh();\r\n            }\r\n        }\r\n    }\r\n    _sysPhysicToNode() {\r\n        if (this.type != \"static\" && this._body.IsAwake()) {\r\n            var pos = this._body.GetPosition();\r\n            var ang = this._body.GetAngle();\r\n            var sp = this.owner;\r\n            this.accessGetSetFunc(sp, \"rotation\", \"set\")(Utils.toAngle(ang) - sp.parent.globalRotation);\r\n            if (ang == 0) {\r\n                var point = sp.parent.globalToLocal(Point.TEMP.setTo(pos.x * IPhysics.Physics.PIXEL_RATIO + sp.pivotX, pos.y * IPhysics.Physics.PIXEL_RATIO + sp.pivotY), false, IPhysics.Physics.I.worldRoot);\r\n                this.accessGetSetFunc(sp, \"x\", \"set\")(point.x);\r\n                this.accessGetSetFunc(sp, \"y\", \"set\")(point.y);\r\n            }\r\n            else {\r\n                point = sp.globalToLocal(Point.TEMP.setTo(pos.x * IPhysics.Physics.PIXEL_RATIO, pos.y * IPhysics.Physics.PIXEL_RATIO), false, IPhysics.Physics.I.worldRoot);\r\n                point.x += sp.pivotX;\r\n                point.y += sp.pivotY;\r\n                point = sp.toParentPoint(point);\r\n                this.accessGetSetFunc(sp, \"x\", \"set\")(point.x);\r\n                this.accessGetSetFunc(sp, \"y\", \"set\")(point.y);\r\n            }\r\n        }\r\n    }\r\n    _sysNodeToPhysic() {\r\n        var sp = this.owner;\r\n        this._body.SetAngle(Utils.toRadian(sp.rotation));\r\n        var p = sp.localToGlobal(Point.TEMP.setTo(0, 0), false, IPhysics.Physics.I.worldRoot);\r\n        this._body.SetPositionXY(p.x / IPhysics.Physics.PIXEL_RATIO, p.y / IPhysics.Physics.PIXEL_RATIO);\r\n    }\r\n    _sysPosToPhysic() {\r\n        var sp = this.owner;\r\n        var p = sp.localToGlobal(Point.TEMP.setTo(0, 0), false, IPhysics.Physics.I.worldRoot);\r\n        this._body.SetPositionXY(p.x / IPhysics.Physics.PIXEL_RATIO, p.y / IPhysics.Physics.PIXEL_RATIO);\r\n    }\r\n    _overSet(sp, prop, getfun) {\r\n        Object.defineProperty(sp, prop, { get: this.accessGetSetFunc(sp, prop, \"get\"), set: getfun, enumerable: false, configurable: true });\r\n        ;\r\n    }\r\n    _onDisable() {\r\n        Laya.physicsTimer.clear(this, this._sysPhysicToNode);\r\n        IPhysics.Physics.I._removeBody(this._body);\r\n        this._body = null;\r\n        var owner = this.owner;\r\n        if (owner._changeByRigidBody) {\r\n            this._overSet(owner, \"x\", this.accessGetSetFunc(owner, \"x\", \"set\"));\r\n            this._overSet(owner, \"y\", this.accessGetSetFunc(owner, \"y\", \"set\"));\r\n            this._overSet(owner, \"rotation\", this.accessGetSetFunc(owner, \"rotation\", \"set\"));\r\n            this._overSet(owner, \"scaleX\", this.accessGetSetFunc(owner, \"scaleX\", \"set\"));\r\n            this._overSet(owner, \"scaleY\", this.accessGetSetFunc(owner, \"scaleY\", \"set\"));\r\n            owner._changeByRigidBody = false;\r\n        }\r\n    }\r\n    getBody() {\r\n        if (!this._body)\r\n            this._onAwake();\r\n        return this._body;\r\n    }\r\n    get body() {\r\n        if (!this._body)\r\n            this._onAwake();\r\n        return this._body;\r\n    }\r\n    applyForce(position, force) {\r\n        if (!this._body)\r\n            this._onAwake();\r\n        this._body.ApplyForce(force, position);\r\n    }\r\n    applyForceToCenter(force) {\r\n        if (!this._body)\r\n            this._onAwake();\r\n        this._body.ApplyForceToCenter(force);\r\n    }\r\n    applyLinearImpulse(position, impulse) {\r\n        if (!this._body)\r\n            this._onAwake();\r\n        this._body.ApplyLinearImpulse(impulse, position);\r\n    }\r\n    applyLinearImpulseToCenter(impulse) {\r\n        if (!this._body)\r\n            this._onAwake();\r\n        this._body.ApplyLinearImpulseToCenter(impulse);\r\n    }\r\n    applyTorque(torque) {\r\n        if (!this._body)\r\n            this._onAwake();\r\n        this._body.ApplyTorque(torque);\r\n    }\r\n    setVelocity(velocity) {\r\n        if (!this._body)\r\n            this._onAwake();\r\n        this._body.SetLinearVelocity(velocity);\r\n    }\r\n    setAngle(value) {\r\n        if (!this._body)\r\n            this._onAwake();\r\n        this._body.SetAngle(value);\r\n        this._body.SetAwake(true);\r\n    }\r\n    getMass() {\r\n        return this._body ? this._body.GetMass() : 0;\r\n    }\r\n    getCenter() {\r\n        if (!this._body)\r\n            this._onAwake();\r\n        var p = this._body.GetLocalCenter();\r\n        p.x = p.x * IPhysics.Physics.PIXEL_RATIO;\r\n        p.y = p.y * IPhysics.Physics.PIXEL_RATIO;\r\n        return p;\r\n    }\r\n    getWorldCenter() {\r\n        if (!this._body)\r\n            this._onAwake();\r\n        var p = this._body.GetWorldCenter();\r\n        p.x = p.x * IPhysics.Physics.PIXEL_RATIO;\r\n        p.y = p.y * IPhysics.Physics.PIXEL_RATIO;\r\n        return p;\r\n    }\r\n    get type() {\r\n        return this._type;\r\n    }\r\n    set type(value) {\r\n        this._type = value;\r\n        if (this._body)\r\n            this._body.SetType(window.box2d.b2BodyType[\"b2_\" + this._type + \"Body\"]);\r\n    }\r\n    get gravityScale() {\r\n        return this._gravityScale;\r\n    }\r\n    set gravityScale(value) {\r\n        this._gravityScale = value;\r\n        if (this._body)\r\n            this._body.SetGravityScale(value);\r\n    }\r\n    get allowRotation() {\r\n        return this._allowRotation;\r\n    }\r\n    set allowRotation(value) {\r\n        this._allowRotation = value;\r\n        if (this._body)\r\n            this._body.SetFixedRotation(!value);\r\n    }\r\n    get allowSleep() {\r\n        return this._allowSleep;\r\n    }\r\n    set allowSleep(value) {\r\n        this._allowSleep = value;\r\n        if (this._body)\r\n            this._body.SetSleepingAllowed(value);\r\n    }\r\n    get angularDamping() {\r\n        return this._angularDamping;\r\n    }\r\n    set angularDamping(value) {\r\n        this._angularDamping = value;\r\n        if (this._body)\r\n            this._body.SetAngularDamping(value);\r\n    }\r\n    get angularVelocity() {\r\n        if (this._body)\r\n            return this._body.GetAngularVelocity();\r\n        return this._angularVelocity;\r\n    }\r\n    set angularVelocity(value) {\r\n        this._angularVelocity = value;\r\n        if (this._body)\r\n            this._body.SetAngularVelocity(value);\r\n    }\r\n    get linearDamping() {\r\n        return this._linearDamping;\r\n    }\r\n    set linearDamping(value) {\r\n        this._linearDamping = value;\r\n        if (this._body)\r\n            this._body.SetLinearDamping(value);\r\n    }\r\n    get linearVelocity() {\r\n        if (this._body) {\r\n            var vec = this._body.GetLinearVelocity();\r\n            return { x: vec.x, y: vec.y };\r\n        }\r\n        return this._linearVelocity;\r\n    }\r\n    set linearVelocity(value) {\r\n        if (!value)\r\n            return;\r\n        if (value instanceof Array) {\r\n            value = { x: value[0], y: value[1] };\r\n        }\r\n        this._linearVelocity = value;\r\n        if (this._body)\r\n            this._body.SetLinearVelocity(new window.box2d.b2Vec2(value.x, value.y));\r\n    }\r\n    get bullet() {\r\n        return this._bullet;\r\n    }\r\n    set bullet(value) {\r\n        this._bullet = value;\r\n        if (this._body)\r\n            this._body.SetBullet(value);\r\n    }\r\n}\r\nClassUtils.regClass(\"laya.physics.RigidBody\", RigidBody);\r\nClassUtils.regClass(\"Laya.RigidBody\", RigidBody);\r\n//# sourceMappingURL=RigidBody.js.map",
  "references": [
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/physics/IPhysics.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/Laya.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/physics/ColliderBase.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/components/Component.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/display/Sprite.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/maths/Point.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/Utils.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/ClassUtils.ts"
  ],
  "map": "{\"version\":3,\"file\":\"RigidBody.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../libs/laya/physics/RigidBody.ts\"],\"names\":[],\"mappings\":\"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\"}",
  "dts": {
    "name": "D:/widgets/LayaDataStructuresAlgorithms/.rpt2_cache/placeholder/laya/physics/RigidBody.d.ts",
    "writeByteOrderMark": false,
    "text": "import { Component } from \"../components/Component\";\r\nexport declare class RigidBody extends Component {\r\n    protected _type: string;\r\n    protected _allowSleep: boolean;\r\n    protected _angularVelocity: number;\r\n    protected _angularDamping: number;\r\n    protected _linearVelocity: any;\r\n    protected _linearDamping: number;\r\n    protected _bullet: boolean;\r\n    protected _allowRotation: boolean;\r\n    protected _gravityScale: number;\r\n    group: number;\r\n    category: number;\r\n    mask: number;\r\n    label: string;\r\n    protected _body: any;\r\n    private _createBody;\r\n    _onAwake(): void;\r\n    _onEnable(): void;\r\n    private accessGetSetFunc;\r\n    private resetCollider;\r\n    private _sysPhysicToNode;\r\n    private _sysNodeToPhysic;\r\n    private _sysPosToPhysic;\r\n    private _overSet;\r\n    protected _onDisable(): void;\r\n    getBody(): any;\r\n    readonly body: any;\r\n    applyForce(position: any, force: any): void;\r\n    applyForceToCenter(force: any): void;\r\n    applyLinearImpulse(position: any, impulse: any): void;\r\n    applyLinearImpulseToCenter(impulse: any): void;\r\n    applyTorque(torque: number): void;\r\n    setVelocity(velocity: any): void;\r\n    setAngle(value: any): void;\r\n    getMass(): number;\r\n    getCenter(): any;\r\n    getWorldCenter(): any;\r\n    type: string;\r\n    gravityScale: number;\r\n    allowRotation: boolean;\r\n    allowSleep: boolean;\r\n    angularDamping: number;\r\n    angularVelocity: number;\r\n    linearDamping: number;\r\n    linearVelocity: any;\r\n    bullet: boolean;\r\n}\r\n"
  }
}
