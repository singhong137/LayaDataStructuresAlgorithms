{
  "code": "export class Handler {\r\n    constructor(caller = null, method = null, args = null, once = false) {\r\n        this.once = false;\r\n        this._id = 0;\r\n        this.setTo(caller, method, args, once);\r\n    }\r\n    setTo(caller, method, args, once = false) {\r\n        this._id = Handler._gid++;\r\n        this.caller = caller;\r\n        this.method = method;\r\n        this.args = args;\r\n        this.once = once;\r\n        return this;\r\n    }\r\n    run() {\r\n        if (this.method == null)\r\n            return null;\r\n        var id = this._id;\r\n        var result = this.method.apply(this.caller, this.args);\r\n        this._id === id && this.once && this.recover();\r\n        return result;\r\n    }\r\n    runWith(data) {\r\n        if (this.method == null)\r\n            return null;\r\n        var id = this._id;\r\n        if (data == null)\r\n            var result = this.method.apply(this.caller, this.args);\r\n        else if (!this.args && !data.unshift)\r\n            result = this.method.call(this.caller, data);\r\n        else if (this.args)\r\n            result = this.method.apply(this.caller, this.args.concat(data));\r\n        else\r\n            result = this.method.apply(this.caller, data);\r\n        this._id === id && this.once && this.recover();\r\n        return result;\r\n    }\r\n    clear() {\r\n        this.caller = null;\r\n        this.method = null;\r\n        this.args = null;\r\n        return this;\r\n    }\r\n    recover() {\r\n        if (this._id > 0) {\r\n            this._id = 0;\r\n            Handler._pool.push(this.clear());\r\n        }\r\n    }\r\n    static create(caller, method, args = null, once = true) {\r\n        if (Handler._pool.length)\r\n            return Handler._pool.pop().setTo(caller, method, args, once);\r\n        return new Handler(caller, method, args, once);\r\n    }\r\n}\r\nHandler._pool = [];\r\nHandler._gid = 1;\r\n//# sourceMappingURL=Handler.js.map",
  "references": [],
  "map": "{\"version\":3,\"file\":\"Handler.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../libs/laya/utils/Handler.ts\"],\"names\":[],\"mappings\":\"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\"}",
  "dts": {
    "name": "D:/widgets/LayaDataStructuresAlgorithms/.rpt2_cache/placeholder/laya/utils/Handler.d.ts",
    "writeByteOrderMark": false,
    "text": "export declare class Handler {\r\n    protected static _pool: Handler[];\r\n    private static _gid;\r\n    caller: Object | null;\r\n    method: Function | null;\r\n    args: any[] | null;\r\n    once: boolean;\r\n    protected _id: number;\r\n    constructor(caller?: Object | null, method?: Function | null, args?: any[] | null, once?: boolean);\r\n    setTo(caller: any, method: Function | null, args: any[] | null, once?: boolean): Handler;\r\n    run(): any;\r\n    runWith(data: any): any;\r\n    clear(): Handler;\r\n    recover(): void;\r\n    static create(caller: any, method: Function | null, args?: any[] | null, once?: boolean): Handler;\r\n}\r\n"
  }
}
