{
  "code": "import { CacheManger } from \"./CacheManger\";\r\nexport class VectorGraphManager {\r\n    constructor() {\r\n        this.useDic = {};\r\n        this.shapeDic = {};\r\n        this.shapeLineDic = {};\r\n        this._id = 0;\r\n        this._checkKey = false;\r\n        this._freeIdArray = [];\r\n        CacheManger.regCacheByFunction(this.startDispose.bind(this), this.getCacheList.bind(this));\r\n    }\r\n    static getInstance() {\r\n        return VectorGraphManager.instance = VectorGraphManager.instance || new VectorGraphManager();\r\n    }\r\n    getId() {\r\n        return this._id++;\r\n    }\r\n    addShape(id, shape) {\r\n        this.shapeDic[id] = shape;\r\n        if (!this.useDic[id]) {\r\n            this.useDic[id] = true;\r\n        }\r\n    }\r\n    addLine(id, Line) {\r\n        this.shapeLineDic[id] = Line;\r\n        if (!this.shapeLineDic[id]) {\r\n            this.shapeLineDic[id] = true;\r\n        }\r\n    }\r\n    getShape(id) {\r\n        if (this._checkKey) {\r\n            if (this.useDic[id] != null) {\r\n                this.useDic[id] = true;\r\n            }\r\n        }\r\n    }\r\n    deleteShape(id) {\r\n        if (this.shapeDic[id]) {\r\n            this.shapeDic[id] = null;\r\n            delete this.shapeDic[id];\r\n        }\r\n        if (this.shapeLineDic[id]) {\r\n            this.shapeLineDic[id] = null;\r\n            delete this.shapeLineDic[id];\r\n        }\r\n        if (this.useDic[id] != null) {\r\n            delete this.useDic[id];\r\n        }\r\n    }\r\n    getCacheList() {\r\n        var str;\r\n        var list = [];\r\n        for (str in this.shapeDic) {\r\n            list.push(this.shapeDic[str]);\r\n        }\r\n        for (str in this.shapeLineDic) {\r\n            list.push(this.shapeLineDic[str]);\r\n        }\r\n        return list;\r\n    }\r\n    startDispose(key) {\r\n        var str;\r\n        for (str in this.useDic) {\r\n            this.useDic[str] = false;\r\n        }\r\n        this._checkKey = true;\r\n    }\r\n    endDispose() {\r\n        if (this._checkKey) {\r\n            var str;\r\n            for (str in this.useDic) {\r\n                if (!this.useDic[str]) {\r\n                    this.deleteShape(str);\r\n                }\r\n            }\r\n            this._checkKey = false;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=VectorGraphManager.js.map",
  "references": [
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/CacheManger.ts"
  ],
  "map": "{\"version\":3,\"file\":\"VectorGraphManager.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../libs/laya/utils/VectorGraphManager.ts\"],\"names\":[],\"mappings\":\"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\"}",
  "dts": {
    "name": "D:/widgets/LayaDataStructuresAlgorithms/.rpt2_cache/placeholder/laya/utils/VectorGraphManager.d.ts",
    "writeByteOrderMark": false,
    "text": "export declare class VectorGraphManager {\r\n    static instance: VectorGraphManager;\r\n    useDic: any;\r\n    shapeDic: any;\r\n    shapeLineDic: any;\r\n    private _id;\r\n    private _checkKey;\r\n    private _freeIdArray;\r\n    constructor();\r\n    static getInstance(): VectorGraphManager;\r\n    getId(): number;\r\n    addShape(id: number, shape: any): void;\r\n    addLine(id: number, Line: any): void;\r\n    getShape(id: number): void;\r\n    deleteShape(id: number): void;\r\n    getCacheList(): any[];\r\n    startDispose(key: boolean): void;\r\n    endDispose(): void;\r\n}\r\n"
  }
}
