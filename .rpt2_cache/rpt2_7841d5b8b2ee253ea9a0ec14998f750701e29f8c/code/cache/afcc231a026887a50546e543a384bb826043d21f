{
  "code": "import { Event } from \"./Event\";\r\nimport { Browser } from \"../utils/Browser\";\r\nimport { Pool } from \"../utils/Pool\";\r\nimport { ILaya } from \"../../ILaya\";\r\nexport class TouchManager {\r\n    constructor() {\r\n        this.preOvers = [];\r\n        this.preDowns = [];\r\n        this.preRightDowns = [];\r\n        this.enable = true;\r\n        this._event = new Event();\r\n        this._lastClickTime = 0;\r\n    }\r\n    _clearTempArrs() {\r\n        TouchManager._oldArr.length = 0;\r\n        TouchManager._newArr.length = 0;\r\n        TouchManager._tEleArr.length = 0;\r\n    }\r\n    getTouchFromArr(touchID, arr) {\r\n        var i, len;\r\n        len = arr.length;\r\n        var tTouchO;\r\n        for (i = 0; i < len; i++) {\r\n            tTouchO = arr[i];\r\n            if (tTouchO.id == touchID) {\r\n                return tTouchO;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    removeTouchFromArr(touchID, arr) {\r\n        var i;\r\n        for (i = arr.length - 1; i >= 0; i--) {\r\n            if (arr[i].id == touchID) {\r\n                arr.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n    createTouchO(ele, touchID) {\r\n        var rst;\r\n        rst = Pool.getItem(\"TouchData\") || {};\r\n        rst.id = touchID;\r\n        rst.tar = ele;\r\n        return rst;\r\n    }\r\n    onMouseDown(ele, touchID, isLeft = false) {\r\n        if (!this.enable)\r\n            return;\r\n        var preO;\r\n        var tO;\r\n        var arrs;\r\n        preO = this.getTouchFromArr(touchID, this.preOvers);\r\n        arrs = this.getEles(ele, null, TouchManager._tEleArr);\r\n        if (!preO) {\r\n            tO = this.createTouchO(ele, touchID);\r\n            this.preOvers.push(tO);\r\n        }\r\n        else {\r\n            preO.tar = ele;\r\n        }\r\n        if (Browser.onMobile)\r\n            this.sendEvents(arrs, Event.MOUSE_OVER);\r\n        var preDowns;\r\n        preDowns = isLeft ? this.preDowns : this.preRightDowns;\r\n        preO = this.getTouchFromArr(touchID, preDowns);\r\n        if (!preO) {\r\n            tO = this.createTouchO(ele, touchID);\r\n            preDowns.push(tO);\r\n        }\r\n        else {\r\n            preO.tar = ele;\r\n        }\r\n        this.sendEvents(arrs, isLeft ? Event.MOUSE_DOWN : Event.RIGHT_MOUSE_DOWN);\r\n        this._clearTempArrs();\r\n    }\r\n    sendEvents(eles, type) {\r\n        var i, len;\r\n        len = eles.length;\r\n        this._event._stoped = false;\r\n        var _target;\r\n        _target = eles[0];\r\n        for (i = 0; i < len; i++) {\r\n            var tE = eles[i];\r\n            if (tE.destroyed)\r\n                return;\r\n            tE.event(type, this._event.setTo(type, tE, _target));\r\n            if (this._event._stoped)\r\n                break;\r\n        }\r\n    }\r\n    getEles(start, end = null, rst = null) {\r\n        if (!rst) {\r\n            rst = [];\r\n        }\r\n        else {\r\n            rst.length = 0;\r\n        }\r\n        while (start && start != end) {\r\n            rst.push(start);\r\n            start = start.parent;\r\n        }\r\n        return rst;\r\n    }\r\n    checkMouseOutAndOverOfMove(eleNew, elePre, touchID = 0) {\r\n        if (elePre == eleNew)\r\n            return;\r\n        var tar;\r\n        var arrs;\r\n        var i, len;\r\n        if (elePre.contains(eleNew)) {\r\n            arrs = this.getEles(eleNew, elePre, TouchManager._tEleArr);\r\n            this.sendEvents(arrs, Event.MOUSE_OVER);\r\n        }\r\n        else if (eleNew.contains(elePre)) {\r\n            arrs = this.getEles(elePre, eleNew, TouchManager._tEleArr);\r\n            this.sendEvents(arrs, Event.MOUSE_OUT);\r\n        }\r\n        else {\r\n            arrs = TouchManager._tEleArr;\r\n            arrs.length = 0;\r\n            var oldArr;\r\n            oldArr = this.getEles(elePre, null, TouchManager._oldArr);\r\n            var newArr;\r\n            newArr = this.getEles(eleNew, null, TouchManager._newArr);\r\n            len = oldArr.length;\r\n            var tIndex;\r\n            for (i = 0; i < len; i++) {\r\n                tar = oldArr[i];\r\n                tIndex = newArr.indexOf(tar);\r\n                if (tIndex >= 0) {\r\n                    newArr.splice(tIndex, newArr.length - tIndex);\r\n                    break;\r\n                }\r\n                else {\r\n                    arrs.push(tar);\r\n                }\r\n            }\r\n            if (arrs.length > 0) {\r\n                this.sendEvents(arrs, Event.MOUSE_OUT);\r\n            }\r\n            if (newArr.length > 0) {\r\n                this.sendEvents(newArr, Event.MOUSE_OVER);\r\n            }\r\n        }\r\n    }\r\n    onMouseMove(ele, touchID) {\r\n        if (!this.enable)\r\n            return;\r\n        var preO;\r\n        preO = this.getTouchFromArr(touchID, this.preOvers);\r\n        var arrs;\r\n        var tO;\r\n        if (!preO) {\r\n            arrs = this.getEles(ele, null, TouchManager._tEleArr);\r\n            this.sendEvents(arrs, Event.MOUSE_OVER);\r\n            this.preOvers.push(this.createTouchO(ele, touchID));\r\n        }\r\n        else {\r\n            this.checkMouseOutAndOverOfMove(ele, preO.tar);\r\n            preO.tar = ele;\r\n            arrs = this.getEles(ele, null, TouchManager._tEleArr);\r\n        }\r\n        this.sendEvents(arrs, Event.MOUSE_MOVE);\r\n        this._clearTempArrs();\r\n    }\r\n    getLastOvers() {\r\n        TouchManager._tEleArr.length = 0;\r\n        if (this.preOvers.length > 0 && this.preOvers[0].tar) {\r\n            return this.getEles(this.preOvers[0].tar, null, TouchManager._tEleArr);\r\n        }\r\n        TouchManager._tEleArr.push(ILaya.stage);\r\n        return TouchManager._tEleArr;\r\n    }\r\n    stageMouseOut() {\r\n        var lastOvers;\r\n        lastOvers = this.getLastOvers();\r\n        this.preOvers.length = 0;\r\n        this.sendEvents(lastOvers, Event.MOUSE_OUT);\r\n    }\r\n    onMouseUp(ele, touchID, isLeft = false) {\r\n        if (!this.enable)\r\n            return;\r\n        var preO;\r\n        var tO;\r\n        var arrs;\r\n        var oldArr;\r\n        var i, len;\r\n        var tar;\r\n        var sendArr;\r\n        var onMobile = Browser.onMobile;\r\n        arrs = this.getEles(ele, null, TouchManager._tEleArr);\r\n        this.sendEvents(arrs, isLeft ? Event.MOUSE_UP : Event.RIGHT_MOUSE_UP);\r\n        var preDowns;\r\n        preDowns = isLeft ? this.preDowns : this.preRightDowns;\r\n        preO = this.getTouchFromArr(touchID, preDowns);\r\n        if (!preO) {\r\n        }\r\n        else {\r\n            var isDouble;\r\n            var now = Browser.now();\r\n            isDouble = now - this._lastClickTime < 300;\r\n            this._lastClickTime = now;\r\n            if (ele == preO.tar) {\r\n                sendArr = arrs;\r\n            }\r\n            else {\r\n                oldArr = this.getEles(preO.tar, null, TouchManager._oldArr);\r\n                sendArr = TouchManager._newArr;\r\n                sendArr.length = 0;\r\n                len = oldArr.length;\r\n                for (i = 0; i < len; i++) {\r\n                    tar = oldArr[i];\r\n                    if (arrs.indexOf(tar) >= 0) {\r\n                        sendArr.push(tar);\r\n                    }\r\n                }\r\n            }\r\n            if (sendArr.length > 0) {\r\n                this.sendEvents(sendArr, isLeft ? Event.CLICK : Event.RIGHT_CLICK);\r\n            }\r\n            if (isLeft && isDouble) {\r\n                this.sendEvents(sendArr, Event.DOUBLE_CLICK);\r\n            }\r\n            this.removeTouchFromArr(touchID, preDowns);\r\n            preO.tar = null;\r\n            Pool.recover(\"TouchData\", preO);\r\n        }\r\n        preO = this.getTouchFromArr(touchID, this.preOvers);\r\n        if (!preO) {\r\n        }\r\n        else {\r\n            if (onMobile) {\r\n                sendArr = this.getEles(preO.tar, null, sendArr);\r\n                if (sendArr && sendArr.length > 0) {\r\n                    this.sendEvents(sendArr, Event.MOUSE_OUT);\r\n                }\r\n                this.removeTouchFromArr(touchID, this.preOvers);\r\n                preO.tar = null;\r\n                Pool.recover(\"TouchData\", preO);\r\n            }\r\n        }\r\n        this._clearTempArrs();\r\n    }\r\n}\r\nTouchManager.I = new TouchManager();\r\nTouchManager._oldArr = [];\r\nTouchManager._newArr = [];\r\nTouchManager._tEleArr = [];\r\n//# sourceMappingURL=TouchManager.js.map",
  "references": [
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/events/Event.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/display/Node.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/Browser.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/Pool.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/ILaya.ts"
  ],
  "map": "{\"version\":3,\"file\":\"TouchManager.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../libs/laya/events/TouchManager.ts\"],\"names\":[],\"mappings\":\"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\"}",
  "dts": {
    "name": "D:/widgets/LayaDataStructuresAlgorithms/.rpt2_cache/placeholder/laya/events/TouchManager.d.ts",
    "writeByteOrderMark": false,
    "text": "import { Event } from \"./Event\";\r\nexport declare class TouchManager {\r\n    static I: TouchManager;\r\n    private static _oldArr;\r\n    private static _newArr;\r\n    private static _tEleArr;\r\n    private preOvers;\r\n    private preDowns;\r\n    private preRightDowns;\r\n    enable: boolean;\r\n    _event: Event;\r\n    private _lastClickTime;\r\n    private _clearTempArrs;\r\n    private getTouchFromArr;\r\n    private removeTouchFromArr;\r\n    private createTouchO;\r\n    onMouseDown(ele: any, touchID: number, isLeft?: boolean): void;\r\n    private sendEvents;\r\n    private getEles;\r\n    private checkMouseOutAndOverOfMove;\r\n    onMouseMove(ele: any, touchID: number): void;\r\n    getLastOvers(): any[];\r\n    stageMouseOut(): void;\r\n    onMouseUp(ele: any, touchID: number, isLeft?: boolean): void;\r\n}\r\n"
  }
}
