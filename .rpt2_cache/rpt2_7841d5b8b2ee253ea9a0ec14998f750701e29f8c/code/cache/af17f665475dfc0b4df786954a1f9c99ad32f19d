{
  "code": "import { Utils } from \"./Utils\";\r\nimport { ILaya } from \"../../ILaya\";\r\nexport class WeakObject {\r\n    constructor() {\r\n        this._obj = {};\r\n        WeakObject._maps.push(this);\r\n    }\r\n    static __init__() {\r\n        WeakObject.I = new WeakObject();\r\n        if (!WeakObject.supportWeakMap)\r\n            ILaya.systemTimer.loop(WeakObject.delInterval, null, WeakObject.clearCache);\r\n    }\r\n    static clearCache() {\r\n        for (var i = 0, n = WeakObject._maps.length; i < n; i++) {\r\n            var obj = WeakObject._maps[i];\r\n            obj._obj = {};\r\n        }\r\n    }\r\n    set(key, value) {\r\n        if (key == null)\r\n            return;\r\n        if (WeakObject.supportWeakMap) {\r\n        }\r\n        else {\r\n            if (typeof (key) == 'string' || typeof (key) == 'number') {\r\n                this._obj[key] = value;\r\n            }\r\n            else {\r\n                key.$_GID || (key.$_GID = Utils.getGID());\r\n                this._obj[key.$_GID] = value;\r\n            }\r\n        }\r\n    }\r\n    get(key) {\r\n        if (key == null)\r\n            return null;\r\n        if (WeakObject.supportWeakMap) {\r\n        }\r\n        else {\r\n            if (typeof (key) == 'string' || typeof (key) == 'number')\r\n                return this._obj[key];\r\n            return this._obj[key.$_GID];\r\n        }\r\n    }\r\n    del(key) {\r\n        if (key == null)\r\n            return;\r\n        if (WeakObject.supportWeakMap) {\r\n        }\r\n        else {\r\n            if (typeof (key) == 'string' || typeof (key) == 'number')\r\n                delete this._obj[key];\r\n            else\r\n                delete this._obj[this._obj.$_GID];\r\n        }\r\n    }\r\n    has(key) {\r\n        if (key == null)\r\n            return false;\r\n        if (WeakObject.supportWeakMap) {\r\n        }\r\n        else {\r\n            if (typeof (key) == 'string' || typeof (key) == 'number')\r\n                return this._obj[key] != null;\r\n            return this._obj[this._obj.$_GID] != null;\r\n        }\r\n    }\r\n}\r\nWeakObject.supportWeakMap = false;\r\nWeakObject.delInterval = 10 * 60 * 1000;\r\nWeakObject._maps = [];\r\n//# sourceMappingURL=WeakObject.js.map",
  "references": [
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/Utils.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/ILaya.ts"
  ],
  "map": "{\"version\":3,\"file\":\"WeakObject.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../libs/laya/utils/WeakObject.ts\"],\"names\":[],\"mappings\":\"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\"}",
  "dts": {
    "name": "D:/widgets/LayaDataStructuresAlgorithms/.rpt2_cache/placeholder/laya/utils/WeakObject.d.ts",
    "writeByteOrderMark": false,
    "text": "export declare class WeakObject {\r\n    static supportWeakMap: boolean;\r\n    static delInterval: number;\r\n    static I: WeakObject;\r\n    private static _maps;\r\n    _obj: any;\r\n    static __init__(): void;\r\n    static clearCache(): void;\r\n    constructor();\r\n    set(key: any, value: any): void;\r\n    get(key: any): any;\r\n    del(key: any): void;\r\n    has(key: any): boolean;\r\n}\r\n"
  }
}
