{
  "code": "import { AnimationBase } from \"./AnimationBase\";\r\nimport { Graphics } from \"./Graphics\";\r\nimport { Loader } from \"../net/Loader\";\r\nimport { GraphicAnimation } from \"../utils/GraphicAnimation\";\r\nimport { Handler } from \"../utils/Handler\";\r\nimport { Utils } from \"../utils/Utils\";\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\nexport class Animation extends AnimationBase {\r\n    constructor() {\r\n        super();\r\n        this._setControlNode(this);\r\n    }\r\n    destroy(destroyChild = true) {\r\n        this.stop();\r\n        super.destroy(destroyChild);\r\n        this._frames = null;\r\n        this._labels = null;\r\n    }\r\n    play(start = 0, loop = true, name = \"\") {\r\n        if (name)\r\n            this._setFramesFromCache(name, true);\r\n        super.play(start, loop, name);\r\n    }\r\n    _setFramesFromCache(name, showWarn = false) {\r\n        if (this._url)\r\n            name = this._url + \"#\" + name;\r\n        if (name && Animation.framesMap[name]) {\r\n            var tAniO = Animation.framesMap[name];\r\n            if (tAniO instanceof Array) {\r\n                this._frames = Animation.framesMap[name];\r\n                this._count = this._frames.length;\r\n            }\r\n            else {\r\n                if (tAniO.nodeRoot) {\r\n                    Animation.framesMap[name] = GraphicAnimation.parseAnimationByData(tAniO);\r\n                    tAniO = Animation.framesMap[name];\r\n                }\r\n                this._frames = tAniO.frames;\r\n                this._count = this._frames.length;\r\n                if (!this._frameRateChanged)\r\n                    this._interval = tAniO.interval;\r\n                this._labels = this._copyLabels(tAniO.labels);\r\n            }\r\n            return true;\r\n        }\r\n        else {\r\n            if (showWarn)\r\n                console.log(\"ani not found:\", name);\r\n        }\r\n        return false;\r\n    }\r\n    _copyLabels(labels) {\r\n        if (!labels)\r\n            return null;\r\n        var rst;\r\n        rst = {};\r\n        var key;\r\n        for (key in labels) {\r\n            rst[key] = Utils.copyArray([], labels[key]);\r\n        }\r\n        return rst;\r\n    }\r\n    _frameLoop() {\r\n        if (this._visible && this._style.alpha > 0.01 && this._frames) {\r\n            super._frameLoop();\r\n        }\r\n    }\r\n    _displayToIndex(value) {\r\n        if (this._frames)\r\n            this.graphics = this._frames[value];\r\n    }\r\n    get frames() {\r\n        return this._frames;\r\n    }\r\n    set frames(value) {\r\n        this._frames = value;\r\n        if (value) {\r\n            this._count = value.length;\r\n            if (this._actionName)\r\n                this._setFramesFromCache(this._actionName, true);\r\n            this.index = this._index;\r\n        }\r\n    }\r\n    set source(value) {\r\n        if (value.indexOf(\".ani\") > -1)\r\n            this.loadAnimation(value);\r\n        else if (value.indexOf(\".json\") > -1 || value.indexOf(\"als\") > -1 || value.indexOf(\"atlas\") > -1)\r\n            this.loadAtlas(value);\r\n        else\r\n            this.loadImages(value.split(\",\"));\r\n    }\r\n    set autoAnimation(value) {\r\n        this.play(0, true, value);\r\n    }\r\n    set autoPlay(value) {\r\n        if (value)\r\n            this.play();\r\n        else\r\n            this.stop();\r\n    }\r\n    clear() {\r\n        super.clear();\r\n        this.stop();\r\n        this.graphics = null;\r\n        this._frames = null;\r\n        this._labels = null;\r\n        return this;\r\n    }\r\n    loadImages(urls, cacheName = \"\") {\r\n        this._url = \"\";\r\n        if (!this._setFramesFromCache(cacheName)) {\r\n            this.frames = Animation.framesMap[cacheName] ? Animation.framesMap[cacheName] : Animation.createFrames(urls, cacheName);\r\n        }\r\n        return this;\r\n    }\r\n    loadAtlas(url, loaded = null, cacheName = \"\") {\r\n        this._url = \"\";\r\n        var _this = this;\r\n        if (!_this._setFramesFromCache(cacheName)) {\r\n            function onLoaded(loadUrl) {\r\n                if (url === loadUrl) {\r\n                    _this.frames = Animation.framesMap[cacheName] ? Animation.framesMap[cacheName] : Animation.createFrames(url, cacheName);\r\n                    if (loaded)\r\n                        loaded.run();\r\n                }\r\n            }\r\n            if (Loader.getAtlas(url))\r\n                onLoaded(url);\r\n            else\r\n                ILaya.loader.load(url, Handler.create(null, onLoaded, [url]), null, Loader.ATLAS);\r\n        }\r\n        return this;\r\n    }\r\n    loadAnimation(url, loaded = null, atlas = null) {\r\n        this._url = url;\r\n        var _this = this;\r\n        if (!this._actionName)\r\n            this._actionName = \"\";\r\n        if (!_this._setFramesFromCache(this._actionName)) {\r\n            if (!atlas || Loader.getAtlas(atlas)) {\r\n                this._loadAnimationData(url, loaded, atlas);\r\n            }\r\n            else {\r\n                ILaya.loader.load(atlas, Handler.create(this, this._loadAnimationData, [url, loaded, atlas]), null, Loader.ATLAS);\r\n            }\r\n        }\r\n        else {\r\n            _this._setFramesFromCache(this._actionName, true);\r\n            this.index = 0;\r\n            if (loaded)\r\n                loaded.run();\r\n        }\r\n        return this;\r\n    }\r\n    _loadAnimationData(url, loaded = null, atlas = null) {\r\n        if (atlas && !Loader.getAtlas(atlas)) {\r\n            console.warn(\"atlas load fail:\" + atlas);\r\n            return;\r\n        }\r\n        var _this = this;\r\n        function onLoaded(loadUrl) {\r\n            if (!Loader.getRes(loadUrl)) {\r\n                if (Animation.framesMap[url + \"#\"]) {\r\n                    _this._setFramesFromCache(_this._actionName, true);\r\n                    _this.index = 0;\r\n                    _this._resumePlay();\r\n                    if (loaded)\r\n                        loaded.run();\r\n                }\r\n                return;\r\n            }\r\n            if (url === loadUrl) {\r\n                var tAniO;\r\n                if (!Animation.framesMap[url + \"#\"]) {\r\n                    var aniData = GraphicAnimation.parseAnimationData(Loader.getRes(url));\r\n                    if (!aniData)\r\n                        return;\r\n                    var aniList = aniData.animationList;\r\n                    var i, len = aniList.length;\r\n                    var defaultO;\r\n                    for (i = 0; i < len; i++) {\r\n                        tAniO = aniList[i];\r\n                        Animation.framesMap[url + \"#\" + tAniO.name] = tAniO;\r\n                        if (!defaultO)\r\n                            defaultO = tAniO;\r\n                    }\r\n                    if (defaultO) {\r\n                        Animation.framesMap[url + \"#\"] = defaultO;\r\n                        _this._setFramesFromCache(_this._actionName, true);\r\n                        _this.index = 0;\r\n                    }\r\n                    _this._resumePlay();\r\n                }\r\n                else {\r\n                    _this._setFramesFromCache(_this._actionName, true);\r\n                    _this.index = 0;\r\n                    _this._resumePlay();\r\n                }\r\n                if (loaded)\r\n                    loaded.run();\r\n            }\r\n            Loader.clearRes(url);\r\n        }\r\n        if (Loader.getRes(url))\r\n            onLoaded(url);\r\n        else\r\n            ILaya.loader.load(url, Handler.create(null, onLoaded, [url]), null, Loader.JSON);\r\n    }\r\n    static createFrames(url, name) {\r\n        var arr;\r\n        if (typeof (url) == 'string') {\r\n            var atlas = Loader.getAtlas(url);\r\n            if (atlas && atlas.length) {\r\n                arr = [];\r\n                for (var i = 0, n = atlas.length; i < n; i++) {\r\n                    var g = new Graphics();\r\n                    g.drawImage(Loader.getRes(atlas[i]), 0, 0);\r\n                    arr.push(g);\r\n                }\r\n            }\r\n        }\r\n        else if (url instanceof Array) {\r\n            arr = [];\r\n            for (i = 0, n = url.length; i < n; i++) {\r\n                g = new Graphics();\r\n                g.loadImage(url[i], 0, 0);\r\n                arr.push(g);\r\n            }\r\n        }\r\n        if (name)\r\n            Animation.framesMap[name] = arr;\r\n        return arr;\r\n    }\r\n    static clearCache(key) {\r\n        var cache = Animation.framesMap;\r\n        var val;\r\n        var key2 = key + \"#\";\r\n        for (val in cache) {\r\n            if (val === key || val.indexOf(key2) === 0) {\r\n                delete Animation.framesMap[val];\r\n            }\r\n        }\r\n    }\r\n}\r\nAnimation.framesMap = {};\r\nILaya.regClass(Animation);\r\nClassUtils.regClass(\"laya.display.Animation\", Animation);\r\nClassUtils.regClass(\"Laya.Animation\", Animation);\r\n//# sourceMappingURL=Animation.js.map",
  "references": [
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/display/AnimationBase.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/display/Graphics.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/net/Loader.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/GraphicAnimation.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/Handler.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/Utils.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/ILaya.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/ClassUtils.ts"
  ],
  "map": "{\"version\":3,\"file\":\"Animation.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../libs/laya/display/Animation.ts\"],\"names\":[],\"mappings\":\"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\"}",
  "dts": {
    "name": "D:/widgets/LayaDataStructuresAlgorithms/.rpt2_cache/placeholder/laya/display/Animation.d.ts",
    "writeByteOrderMark": false,
    "text": "import { AnimationBase } from \"./AnimationBase\";\r\nimport { Handler } from \"../utils/Handler\";\r\nexport declare class Animation extends AnimationBase {\r\n    static framesMap: any;\r\n    protected _frames: any[];\r\n    protected _url: string;\r\n    constructor();\r\n    destroy(destroyChild?: boolean): void;\r\n    play(start?: any, loop?: boolean, name?: string): void;\r\n    protected _setFramesFromCache(name: string, showWarn?: boolean): boolean;\r\n    private _copyLabels;\r\n    protected _frameLoop(): void;\r\n    protected _displayToIndex(value: number): void;\r\n    frames: any[];\r\n    source: string;\r\n    autoAnimation: string;\r\n    autoPlay: boolean;\r\n    clear(): AnimationBase;\r\n    loadImages(urls: any[], cacheName?: string): Animation;\r\n    loadAtlas(url: string, loaded?: Handler, cacheName?: string): Animation;\r\n    loadAnimation(url: string, loaded?: Handler, atlas?: string): Animation;\r\n    private _loadAnimationData;\r\n    static createFrames(url: string | string[], name: string): any[];\r\n    static clearCache(key: string): void;\r\n}\r\n"
  }
}
