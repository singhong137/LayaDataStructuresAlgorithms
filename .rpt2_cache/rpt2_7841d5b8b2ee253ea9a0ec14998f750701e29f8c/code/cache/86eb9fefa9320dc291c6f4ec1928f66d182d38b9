{
  "code": "import { ILaya } from \"../../../ILaya\";\r\nexport class InlcudeFile {\r\n    constructor(txt) {\r\n        this.codes = {};\r\n        this.funs = {};\r\n        this.curUseID = -1;\r\n        this.funnames = \"\";\r\n        this.script = txt;\r\n        var begin = 0, ofs, end;\r\n        while (true) {\r\n            begin = txt.indexOf(\"#begin\", begin);\r\n            if (begin < 0)\r\n                break;\r\n            end = begin + 5;\r\n            while (true) {\r\n                end = txt.indexOf(\"#end\", end);\r\n                if (end < 0)\r\n                    break;\r\n                if (txt.charAt(end + 4) === 'i')\r\n                    end += 5;\r\n                else\r\n                    break;\r\n            }\r\n            if (end < 0) {\r\n                throw \"add include err,no #end:\" + txt;\r\n            }\r\n            ofs = txt.indexOf('\\n', begin);\r\n            var words = ILaya.ShaderCompile.splitToWords(txt.substr(begin, ofs - begin), null);\r\n            if (words[1] == 'code') {\r\n                this.codes[words[2]] = txt.substr(ofs + 1, end - ofs - 1);\r\n            }\r\n            else if (words[1] == 'function') {\r\n                ofs = txt.indexOf(\"function\", begin);\r\n                ofs += \"function\".length;\r\n                this.funs[words[3]] = txt.substr(ofs + 1, end - ofs - 1);\r\n                this.funnames += words[3] + \";\";\r\n            }\r\n            begin = end + 1;\r\n        }\r\n    }\r\n    getWith(name = null) {\r\n        var r = name ? this.codes[name] : this.script;\r\n        if (!r) {\r\n            throw \"get with error:\" + name;\r\n        }\r\n        return r;\r\n    }\r\n    getFunsScript(funsdef) {\r\n        var r = \"\";\r\n        for (var i in this.funs) {\r\n            if (funsdef.indexOf(i + \";\") >= 0) {\r\n                r += this.funs[i];\r\n            }\r\n        }\r\n        return r;\r\n    }\r\n}\r\n//# sourceMappingURL=InlcudeFile.js.map",
  "references": [
    "D:/widgets/LayaDataStructuresAlgorithms/libs/ILaya.ts"
  ],
  "map": "{\"version\":3,\"file\":\"InlcudeFile.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../libs/laya/webgl/utils/InlcudeFile.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,gBAAgB,CAAC;AAGvC,MAAM,OAAO,WAAW;IAOpB,YAAY,GAAW;QALvB,UAAK,GAAQ,EAAE,CAAC;QAChB,SAAI,GAAQ,EAAE,CAAC;QACf,aAAQ,GAAW,CAAC,CAAC,CAAC;QACtB,aAAQ,GAAW,EAAE,CAAC;QAGlB,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QAClB,IAAI,KAAK,GAAW,CAAC,EAAE,GAAW,EAAE,GAAW,CAAC;QAChD,OAAO,IAAI,EAAE;YACT,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YACrC,IAAI,KAAK,GAAG,CAAC;gBAAE,MAAM;YAErB,GAAG,GAAG,KAAK,GAAG,CAAC,CAAC;YAChB,OAAO,IAAI,EAAE;gBACT,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;gBAC/B,IAAI,GAAG,GAAG,CAAC;oBAAE,MAAM;gBACnB,IAAI,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,KAAK,GAAG;oBAC3B,GAAG,IAAI,CAAC,CAAC;;oBACR,MAAM;aACd;YAED,IAAI,GAAG,GAAG,CAAC,EAAE;gBACT,MAAM,0BAA0B,GAAG,GAAG,CAAC;aAC1C;YAED,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC/B,IAAI,KAAK,GAAU,KAAK,CAAC,aAAa,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,GAAG,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC;YAC1F,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,MAAM,EAAE;gBACpB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;aAC7D;iBAAM,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,UAAU,EACjC;gBACI,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;gBACrC,GAAG,IAAI,UAAU,CAAC,MAAM,CAAC;gBACzB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;gBACzD,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;aACnC;YAED,KAAK,GAAG,GAAG,GAAG,CAAC,CAAC;SACnB;IACL,CAAC;IAED,OAAO,CAAC,OAAe,IAAI;QACvB,IAAI,CAAC,GAAW,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;QACtD,IAAI,CAAC,CAAC,EAAE;YACJ,MAAM,iBAAiB,GAAG,IAAI,CAAC;SAClC;QACD,OAAO,CAAC,CAAC;IACb,CAAC;IAED,aAAa,CAAC,OAAe;QACzB,IAAI,CAAC,GAAW,EAAE,CAAC;QACnB,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,EAAE;YACrB,IAAI,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE;gBAC/B,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACrB;SACJ;QACD,OAAO,CAAC,CAAC;IACb,CAAC;CAEJ\"}",
  "dts": {
    "name": "D:/widgets/LayaDataStructuresAlgorithms/.rpt2_cache/placeholder/laya/webgl/utils/InlcudeFile.d.ts",
    "writeByteOrderMark": false,
    "text": "export declare class InlcudeFile {\r\n    script: string;\r\n    codes: any;\r\n    funs: any;\r\n    curUseID: number;\r\n    funnames: string;\r\n    constructor(txt: string);\r\n    getWith(name?: string): string;\r\n    getFunsScript(funsdef: string): string;\r\n}\r\n"
  }
}
