{
  "code": "import { Node } from \"./Node\";\r\nimport { Const } from \"../Const\";\r\nimport { Sprite } from \"./Sprite\";\r\nimport { Event } from \"../events/Event\";\r\nimport { SceneLoader } from \"../net/SceneLoader\";\r\nimport { Resource } from \"../resource/Resource\";\r\nimport { Handler } from \"../utils/Handler\";\r\nimport { SceneUtils } from \"../utils/SceneUtils\";\r\nimport { ILaya } from \"../../ILaya\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\nimport { URL } from \"../net/URL\";\r\nexport class Scene extends Sprite {\r\n    constructor(createChildren = true) {\r\n        super();\r\n        this.autoDestroyAtClosed = false;\r\n        this.url = null;\r\n        this._viewCreated = false;\r\n        this._$componentType = \"Scene\";\r\n        this._setBit(Const.NOT_READY, true);\r\n        Scene.unDestroyedScenes.push(this);\r\n        this._scene = this;\r\n        if (createChildren)\r\n            this.createChildren();\r\n    }\r\n    createChildren() {\r\n    }\r\n    static setUIMap(url) {\r\n        let uimap = ILaya.loader.getRes(url);\r\n        if (uimap) {\r\n            for (let key in uimap) {\r\n                ILaya.Loader.loadedMap[URL.formatURL(key + \".scene\")] = uimap[key];\r\n            }\r\n        }\r\n        else {\r\n            throw \"请提前加载uimap的json，再使用该接口设置！\";\r\n        }\r\n    }\r\n    loadScene(path) {\r\n        var url = path.indexOf(\".\") > -1 ? path : path + \".scene\";\r\n        var view = ILaya.loader.getRes(url);\r\n        if (view) {\r\n            this.createView(view);\r\n        }\r\n        else {\r\n            ILaya.loader.resetProgress();\r\n            var loader = new SceneLoader();\r\n            loader.on(Event.COMPLETE, this, this._onSceneLoaded, [url]);\r\n            loader.load(url);\r\n        }\r\n    }\r\n    _onSceneLoaded(url) {\r\n        this.createView(ILaya.Loader.getRes(url));\r\n    }\r\n    createView(view) {\r\n        if (view && !this._viewCreated) {\r\n            this._viewCreated = true;\r\n            SceneUtils.createByData(this, view);\r\n        }\r\n    }\r\n    getNodeByID(id) {\r\n        if (this._idMap)\r\n            return this._idMap[id];\r\n        return null;\r\n    }\r\n    open(closeOther = true, param = null) {\r\n        if (closeOther)\r\n            Scene.closeAll();\r\n        Scene.root.addChild(this);\r\n        this.onOpened(param);\r\n    }\r\n    onOpened(param) {\r\n    }\r\n    close(type = null) {\r\n        this.onClosed(type);\r\n        if (this.autoDestroyAtClosed)\r\n            this.destroy();\r\n        else\r\n            this.removeSelf();\r\n    }\r\n    onClosed(type = null) {\r\n    }\r\n    destroy(destroyChild = true) {\r\n        this._idMap = null;\r\n        super.destroy(destroyChild);\r\n        var list = Scene.unDestroyedScenes;\r\n        for (var i = list.length - 1; i > -1; i--) {\r\n            if (list[i] === this) {\r\n                list.splice(i, 1);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    set scaleX(value) {\r\n        if (super.get_scaleX() == value)\r\n            return;\r\n        super.set_scaleX(value);\r\n        this.event(Event.RESIZE);\r\n    }\r\n    get scaleX() {\r\n        return super.scaleX;\r\n    }\r\n    set scaleY(value) {\r\n        if (super.get_scaleY() == value)\r\n            return;\r\n        super.set_scaleY(value);\r\n        this.event(Event.RESIZE);\r\n    }\r\n    get scaleY() {\r\n        return super.scaleY;\r\n    }\r\n    get width() {\r\n        if (this._width)\r\n            return this._width;\r\n        var max = 0;\r\n        for (var i = this.numChildren - 1; i > -1; i--) {\r\n            var comp = this.getChildAt(i);\r\n            if (comp._visible) {\r\n                max = Math.max(comp._x + comp.width * comp.scaleX, max);\r\n            }\r\n        }\r\n        return max;\r\n    }\r\n    set width(value) {\r\n        if (super.get_width() == value)\r\n            return;\r\n        super.set_width(value);\r\n        this.callLater(this._sizeChanged);\r\n    }\r\n    get height() {\r\n        if (this._height)\r\n            return this._height;\r\n        var max = 0;\r\n        for (var i = this.numChildren - 1; i > -1; i--) {\r\n            var comp = this.getChildAt(i);\r\n            if (comp._visible) {\r\n                max = Math.max(comp._y + comp.height * comp.scaleY, max);\r\n            }\r\n        }\r\n        return max;\r\n    }\r\n    set height(value) {\r\n        if (super.get_height() == value)\r\n            return;\r\n        super.set_height(value);\r\n        this.callLater(this._sizeChanged);\r\n    }\r\n    _sizeChanged() {\r\n        this.event(Event.RESIZE);\r\n    }\r\n    static get root() {\r\n        if (!Scene._root) {\r\n            Scene._root = ILaya.stage.addChild(new Sprite());\r\n            Scene._root.name = \"root\";\r\n            ILaya.stage.on(\"resize\", null, () => {\r\n                Scene._root.size(ILaya.stage.width, ILaya.stage.height);\r\n                Scene._root.event(Event.RESIZE);\r\n            });\r\n            Scene._root.size(ILaya.stage.width, ILaya.stage.height);\r\n            Scene._root.event(Event.RESIZE);\r\n        }\r\n        return Scene._root;\r\n    }\r\n    get timer() {\r\n        return this._timer || ILaya.timer;\r\n    }\r\n    set timer(value) {\r\n        this._timer = value;\r\n    }\r\n    static load(url, complete = null, progress = null) {\r\n        ILaya.loader.resetProgress();\r\n        var loader = new SceneLoader();\r\n        loader.on(Event.PROGRESS, null, onProgress);\r\n        loader.once(Event.COMPLETE, null, create);\r\n        loader.load(url);\r\n        function onProgress(value) {\r\n            if (Scene._loadPage)\r\n                Scene._loadPage.event(\"progress\", value);\r\n            progress && progress.runWith(value);\r\n        }\r\n        function create() {\r\n            loader.off(Event.PROGRESS, null, onProgress);\r\n            var obj = ILaya.Loader.getRes(url);\r\n            if (!obj)\r\n                throw \"Can not find scene:\" + url;\r\n            if (!obj.props)\r\n                throw \"Scene data is error:\" + url;\r\n            var runtime = obj.props.runtime ? obj.props.runtime : obj.type;\r\n            var clas = ILaya.ClassUtils.getClass(runtime);\r\n            if (obj.props.renderType == \"instance\") {\r\n                var scene = clas.instance || (clas.instance = new clas());\r\n            }\r\n            else {\r\n                scene = new clas();\r\n            }\r\n            if (scene && scene instanceof Node) {\r\n                scene.url = url;\r\n                if (!scene._getBit(Const.NOT_READY)) {\r\n                    complete && complete.runWith(scene);\r\n                }\r\n                else {\r\n                    scene.on(\"onViewCreated\", null, function () {\r\n                        complete && complete.runWith(scene);\r\n                    });\r\n                    scene.createView(obj);\r\n                }\r\n                Scene.hideLoadingPage();\r\n            }\r\n            else {\r\n                throw \"Can not find scene:\" + runtime;\r\n            }\r\n        }\r\n    }\r\n    static open(url, closeOther = true, param = null, complete = null, progress = null) {\r\n        if (param instanceof Handler) {\r\n            var temp = complete;\r\n            complete = param;\r\n            param = temp;\r\n        }\r\n        Scene.showLoadingPage();\r\n        Scene.load(url, Handler.create(null, this._onSceneLoaded, [closeOther, complete, param]), progress);\r\n    }\r\n    static _onSceneLoaded(closeOther, complete, param, scene) {\r\n        scene.open(closeOther, param);\r\n        if (complete)\r\n            complete.runWith(scene);\r\n    }\r\n    static close(url, name = \"\") {\r\n        var flag = false;\r\n        var list = Scene.unDestroyedScenes;\r\n        for (var i = 0, n = list.length; i < n; i++) {\r\n            var scene = list[i];\r\n            if (scene && scene.parent && scene.url === url && scene.name == name) {\r\n                scene.close();\r\n                flag = true;\r\n            }\r\n        }\r\n        return flag;\r\n    }\r\n    static closeAll() {\r\n        var root = Scene.root;\r\n        for (var i = 0, n = root.numChildren; i < n; i++) {\r\n            var scene = root.getChildAt(0);\r\n            if (scene instanceof Scene)\r\n                scene.close();\r\n            else\r\n                scene.removeSelf();\r\n        }\r\n    }\r\n    static destroy(url, name = \"\") {\r\n        var flag = false;\r\n        var list = [].concat(Scene.unDestroyedScenes);\r\n        for (var i = 0, n = list.length; i < n; i++) {\r\n            var scene = list[i];\r\n            if (scene.url === url && scene.name == name && !scene.destroyed) {\r\n                scene.destroy();\r\n                flag = true;\r\n            }\r\n        }\r\n        return flag;\r\n    }\r\n    static gc() {\r\n        Resource.destroyUnusedResources();\r\n    }\r\n    static setLoadingPage(loadPage) {\r\n        if (Scene._loadPage != loadPage) {\r\n            Scene._loadPage = loadPage;\r\n        }\r\n    }\r\n    static showLoadingPage(param = null, delay = 500) {\r\n        if (Scene._loadPage) {\r\n            ILaya.systemTimer.clear(null, Scene._showLoading);\r\n            ILaya.systemTimer.clear(null, Scene._hideLoading);\r\n            ILaya.systemTimer.once(delay, null, Scene._showLoading, [param], false);\r\n        }\r\n    }\r\n    static _showLoading(param) {\r\n        ILaya.stage.addChild(Scene._loadPage);\r\n        Scene._loadPage.onOpened(param);\r\n    }\r\n    static _hideLoading() {\r\n        Scene._loadPage.close();\r\n    }\r\n    static hideLoadingPage(delay = 500) {\r\n        if (Scene._loadPage) {\r\n            ILaya.systemTimer.clear(null, Scene._showLoading);\r\n            ILaya.systemTimer.clear(null, Scene._hideLoading);\r\n            ILaya.systemTimer.once(delay, null, Scene._hideLoading);\r\n        }\r\n    }\r\n}\r\nScene.unDestroyedScenes = [];\r\nILaya.regClass(Scene);\r\nClassUtils.regClass(\"laya.display.Scene\", Scene);\r\nClassUtils.regClass(\"Laya.Scene\", Scene);\r\n//# sourceMappingURL=Scene.js.map",
  "references": [
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/display/Node.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/Const.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/display/Sprite.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/events/Event.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/net/SceneLoader.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/resource/Resource.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/Handler.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/SceneUtils.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/Timer.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/ILaya.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/ClassUtils.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/net/URL.ts"
  ],
  "map": "{\"version\":3,\"file\":\"Scene.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../libs/laya/display/Scene.ts\"],\"names\":[],\"mappings\":\"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\"}",
  "dts": {
    "name": "D:/widgets/LayaDataStructuresAlgorithms/.rpt2_cache/placeholder/laya/display/Scene.d.ts",
    "writeByteOrderMark": false,
    "text": "import { Sprite } from \"./Sprite\";\r\nimport { Handler } from \"../utils/Handler\";\r\nimport { Timer } from \"../utils/Timer\";\r\nexport declare class Scene extends Sprite {\r\n    static unDestroyedScenes: any[];\r\n    private static _root;\r\n    private static _loadPage;\r\n    autoDestroyAtClosed: boolean;\r\n    url: string;\r\n    private _timer;\r\n    private _viewCreated;\r\n    _idMap: any;\r\n    _$componentType: string;\r\n    constructor(createChildren?: boolean);\r\n    protected createChildren(): void;\r\n    static setUIMap(url: any): void;\r\n    loadScene(path: string): void;\r\n    private _onSceneLoaded;\r\n    createView(view: any): void;\r\n    getNodeByID(id: number): any;\r\n    open(closeOther?: boolean, param?: any): void;\r\n    onOpened(param: any): void;\r\n    close(type?: string): void;\r\n    onClosed(type?: string): void;\r\n    destroy(destroyChild?: boolean): void;\r\n    scaleX: number;\r\n    scaleY: number;\r\n    width: number;\r\n    height: number;\r\n    protected _sizeChanged(): void;\r\n    static readonly root: Sprite;\r\n    timer: Timer;\r\n    static load(url: string, complete?: Handler, progress?: Handler): void;\r\n    static open(url: string, closeOther?: boolean, param?: any, complete?: Handler, progress?: Handler): void;\r\n    private static _onSceneLoaded;\r\n    static close(url: string, name?: string): boolean;\r\n    static closeAll(): void;\r\n    static destroy(url: string, name?: string): boolean;\r\n    static gc(): void;\r\n    static setLoadingPage(loadPage: Scene): void;\r\n    static showLoadingPage(param?: any, delay?: number): void;\r\n    private static _showLoading;\r\n    private static _hideLoading;\r\n    static hideLoadingPage(delay?: number): void;\r\n}\r\n"
  }
}
