{
  "code": "import { ILaya } from \"./../../ILaya\";\r\nexport class CacheManger {\r\n    constructor() {\r\n    }\r\n    static regCacheByFunction(disposeFunction, getCacheListFunction) {\r\n        CacheManger.unRegCacheByFunction(disposeFunction, getCacheListFunction);\r\n        var cache;\r\n        cache = { tryDispose: disposeFunction, getCacheList: getCacheListFunction };\r\n        CacheManger._cacheList.push(cache);\r\n    }\r\n    static unRegCacheByFunction(disposeFunction, getCacheListFunction) {\r\n        var i, len;\r\n        len = CacheManger._cacheList.length;\r\n        for (i = 0; i < len; i++) {\r\n            if (CacheManger._cacheList[i].tryDispose == disposeFunction && CacheManger._cacheList[i].getCacheList == getCacheListFunction) {\r\n                CacheManger._cacheList.splice(i, 1);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    static forceDispose() {\r\n        var i, len = CacheManger._cacheList.length;\r\n        for (i = 0; i < len; i++) {\r\n            CacheManger._cacheList[i].tryDispose(true);\r\n        }\r\n    }\r\n    static beginCheck(waitTime = 15000) {\r\n        ILaya.systemTimer.loop(waitTime, null, CacheManger._checkLoop);\r\n    }\r\n    static stopCheck() {\r\n        ILaya.systemTimer.clear(null, CacheManger._checkLoop);\r\n    }\r\n    static _checkLoop() {\r\n        var cacheList = CacheManger._cacheList;\r\n        if (cacheList.length < 1)\r\n            return;\r\n        var tTime = ILaya.Browser.now();\r\n        var count;\r\n        var len;\r\n        len = count = cacheList.length;\r\n        while (count > 0) {\r\n            CacheManger._index++;\r\n            CacheManger._index = CacheManger._index % len;\r\n            cacheList[CacheManger._index].tryDispose(false);\r\n            if (ILaya.Browser.now() - tTime > CacheManger.loopTimeLimit)\r\n                break;\r\n            count--;\r\n        }\r\n    }\r\n}\r\nCacheManger.loopTimeLimit = 2;\r\nCacheManger._cacheList = [];\r\nCacheManger._index = 0;\r\n//# sourceMappingURL=CacheManger.js.map",
  "references": [
    "D:/widgets/LayaDataStructuresAlgorithms/libs/ILaya.ts"
  ],
  "map": "{\"version\":3,\"file\":\"CacheManger.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../libs/laya/utils/CacheManger.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAKtC,MAAM,OAAO,WAAW;IAgBpB;IAEA,CAAC;IAQD,MAAM,CAAC,kBAAkB,CAAC,eAAyB,EAAE,oBAA8B;QAC/E,WAAW,CAAC,oBAAoB,CAAC,eAAe,EAAE,oBAAoB,CAAC,CAAC;QACxE,IAAI,KAAU,CAAC;QACf,KAAK,GAAG,EAAE,UAAU,EAAE,eAAe,EAAE,YAAY,EAAE,oBAAoB,EAAE,CAAC;QAC5E,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACvC,CAAC;IAQD,MAAM,CAAC,oBAAoB,CAAC,eAAyB,EAAE,oBAA8B;QACjF,IAAI,CAAS,EAAE,GAAW,CAAC;QAC3B,GAAG,GAAG,WAAW,CAAC,UAAU,CAAC,MAAM,CAAC;QACpC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACtB,IAAI,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,IAAI,eAAe,IAAI,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,IAAI,oBAAoB,EAAE;gBAC3H,WAAW,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACpC,OAAO;aACV;SACJ;IACL,CAAC;IAOD,MAAM,CAAC,YAAY;QACf,IAAI,CAAS,EAAE,GAAG,GAAW,WAAW,CAAC,UAAU,CAAC,MAAM,CAAC;QAC3D,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACtB,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;SAC9C;IACL,CAAC;IAOD,MAAM,CAAC,UAAU,CAAC,WAAmB,KAAK;QACtC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,WAAW,CAAC,UAAU,CAAC,CAAC;IACnE,CAAC;IAOD,MAAM,CAAC,SAAS;QACZ,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,WAAW,CAAC,UAAU,CAAC,CAAC;IAC1D,CAAC;IAMO,MAAM,CAAC,UAAU;QACrB,IAAI,SAAS,GAAU,WAAW,CAAC,UAAU,CAAC;QAC9C,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC;YAAE,OAAO;QACjC,IAAI,KAAK,GAAW,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;QACxC,IAAI,KAAa,CAAC;QAClB,IAAI,GAAW,CAAC;QAChB,GAAG,GAAG,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC;QAC/B,OAAO,KAAK,GAAG,CAAC,EAAE;YACd,WAAW,CAAC,MAAM,EAAE,CAAC;YACrB,WAAW,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,GAAG,GAAG,CAAC;YAC9C,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,KAAK,GAAG,WAAW,CAAC,aAAa;gBAAE,MAAM;YACnE,KAAK,EAAE,CAAC;SACX;IACL,CAAC;;AA7FM,yBAAa,GAAW,CAAC,CAAC;AAIlB,sBAAU,GAAU,EAAE,CAAC;AAKvB,kBAAM,GAAW,CAAC,CAAC\"}",
  "dts": {
    "name": "D:/widgets/LayaDataStructuresAlgorithms/.rpt2_cache/placeholder/laya/utils/CacheManger.d.ts",
    "writeByteOrderMark": false,
    "text": "export declare class CacheManger {\r\n    static loopTimeLimit: number;\r\n    private static _cacheList;\r\n    private static _index;\r\n    constructor();\r\n    static regCacheByFunction(disposeFunction: Function, getCacheListFunction: Function): void;\r\n    static unRegCacheByFunction(disposeFunction: Function, getCacheListFunction: Function): void;\r\n    static forceDispose(): void;\r\n    static beginCheck(waitTime?: number): void;\r\n    static stopCheck(): void;\r\n    private static _checkLoop;\r\n}\r\n"
  }
}
