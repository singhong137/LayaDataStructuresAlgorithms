{
  "code": "import { Laya } from \"../../Laya\";\r\nimport { Component } from \"../components/Component\";\r\nimport { ClassUtils } from \"../utils/ClassUtils\";\r\nimport { IPhysics } from \"./IPhysics\";\r\nexport class ColliderBase extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._isSensor = false;\r\n        this._density = 10;\r\n        this._friction = 0.2;\r\n        this._restitution = 0;\r\n    }\r\n    getDef() {\r\n        if (!this._def) {\r\n            var def = new window.box2d.b2FixtureDef();\r\n            def.density = this.density;\r\n            def.friction = this.friction;\r\n            def.isSensor = this.isSensor;\r\n            def.restitution = this.restitution;\r\n            def.shape = this._shape;\r\n            this._def = def;\r\n        }\r\n        return this._def;\r\n    }\r\n    _onEnable() {\r\n        if (this.rigidBody) {\r\n            this.refresh();\r\n        }\r\n        else {\r\n            Laya.systemTimer.callLater(this, this._checkRigidBody);\r\n        }\r\n    }\r\n    _checkRigidBody() {\r\n        if (!this.rigidBody) {\r\n            var comp = this.owner.getComponent(IPhysics.RigidBody);\r\n            if (comp) {\r\n                this.rigidBody = comp;\r\n                this.refresh();\r\n            }\r\n        }\r\n    }\r\n    _onDestroy() {\r\n        if (this.rigidBody) {\r\n            if (this.fixture) {\r\n                if (this.fixture.GetBody() == this.rigidBody.body) {\r\n                    this.rigidBody.body.DestroyFixture(this.fixture);\r\n                }\r\n                this.fixture = null;\r\n            }\r\n            this.rigidBody = null;\r\n            this._shape = null;\r\n            this._def = null;\r\n        }\r\n    }\r\n    get isSensor() {\r\n        return this._isSensor;\r\n    }\r\n    set isSensor(value) {\r\n        this._isSensor = value;\r\n        if (this._def) {\r\n            this._def.isSensor = value;\r\n            this.refresh();\r\n        }\r\n    }\r\n    get density() {\r\n        return this._density;\r\n    }\r\n    set density(value) {\r\n        this._density = value;\r\n        if (this._def) {\r\n            this._def.density = value;\r\n            this.refresh();\r\n        }\r\n    }\r\n    get friction() {\r\n        return this._friction;\r\n    }\r\n    set friction(value) {\r\n        this._friction = value;\r\n        if (this._def) {\r\n            this._def.friction = value;\r\n            this.refresh();\r\n        }\r\n    }\r\n    get restitution() {\r\n        return this._restitution;\r\n    }\r\n    set restitution(value) {\r\n        this._restitution = value;\r\n        if (this._def) {\r\n            this._def.restitution = value;\r\n            this.refresh();\r\n        }\r\n    }\r\n    refresh() {\r\n        if (this.enabled && this.rigidBody) {\r\n            var body = this.rigidBody.body;\r\n            if (this.fixture) {\r\n                if (this.fixture.GetBody() == this.rigidBody.body) {\r\n                    this.rigidBody.body.DestroyFixture(this.fixture);\r\n                }\r\n                this.fixture.Destroy();\r\n                this.fixture = null;\r\n            }\r\n            var def = this.getDef();\r\n            def.filter.groupIndex = this.rigidBody.group;\r\n            def.filter.categoryBits = this.rigidBody.category;\r\n            def.filter.maskBits = this.rigidBody.mask;\r\n            this.fixture = body.CreateFixture(def);\r\n            this.fixture.collider = this;\r\n        }\r\n    }\r\n    resetShape(re = true) {\r\n    }\r\n    get isSingleton() {\r\n        return false;\r\n    }\r\n}\r\nClassUtils.regClass(\"laya.physics.ColliderBase\", ColliderBase);\r\nClassUtils.regClass(\"Laya.ColliderBase\", ColliderBase);\r\n//# sourceMappingURL=ColliderBase.js.map",
  "references": [
    "D:/widgets/LayaDataStructuresAlgorithms/libs/Laya.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/components/Component.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/utils/ClassUtils.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/physics/IPhysics.ts",
    "D:/widgets/LayaDataStructuresAlgorithms/libs/laya/physics/RigidBody.ts"
  ],
  "map": "{\"version\":3,\"file\":\"ColliderBase.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../libs/laya/physics/ColliderBase.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,YAAY,CAAC;AAClC,OAAO,EAAE,SAAS,EAAE,MAAM,yBAAyB,CAAC;AACpD,OAAO,EAAE,UAAU,EAAE,MAAM,qBAAqB,CAAC;AACjD,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AAMtC,MAAM,OAAO,YAAa,SAAQ,SAAS;IAA3C;;QAEY,cAAS,GAAY,KAAK,CAAC;QAE3B,aAAQ,GAAW,EAAE,CAAC;QAEtB,cAAS,GAAW,GAAG,CAAC;QAExB,iBAAY,GAAW,CAAC,CAAC;IA8JrC,CAAC;IAhJa,MAAM;QACZ,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;YACZ,IAAI,GAAG,GAAQ,IAAU,MAAO,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;YACtD,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;YAC3B,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC7B,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC7B,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YACnC,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;YACxB,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;SACnB;QACD,OAAO,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;IAKD,SAAS;QACL,IAAG,IAAI,CAAC,SAAS,EAAC;YACd,IAAI,CAAC,OAAO,EAAE,CAAC;SAClB;aACG;YACA,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;SAC1D;IACL,CAAC;IAEO,eAAe;QACnB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACjB,IAAI,IAAI,GAAc,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YAClE,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,OAAO,EAAE,CAAC;aAClB;SACJ;IACL,CAAC;IAKS,UAAU;QAChB,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE;oBAC/C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACpD;gBAED,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;aACvB;YACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;SACpB;IACL,CAAC;IAGD,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAED,IAAI,QAAQ,CAAC,KAAc;QACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,OAAO,EAAE,CAAC;SAClB;IACL,CAAC;IAGD,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IAED,IAAI,OAAO,CAAC,KAAa;QACrB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YAC1B,IAAI,CAAC,OAAO,EAAE,CAAC;SAClB;IACL,CAAC;IAGD,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAED,IAAI,QAAQ,CAAC,KAAa;QACtB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,OAAO,EAAE,CAAC;SAClB;IACL,CAAC;IAGD,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;IAED,IAAI,WAAW,CAAC,KAAa;QACzB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YAC9B,IAAI,CAAC,OAAO,EAAE,CAAC;SAClB;IACL,CAAC;IAMD,OAAO;QACH,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,SAAS,EAAE;YAChC,IAAI,IAAI,GAAQ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;YACpC,IAAI,IAAI,CAAC,OAAO,EAAE;gBAEd,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE;oBAC/C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACpD;gBACD,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;gBACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;aACvB;YACD,IAAI,GAAG,GAAQ,IAAI,CAAC,MAAM,EAAE,CAAC;YAC7B,GAAG,CAAC,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;YAC7C,GAAG,CAAC,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;YAClD,GAAG,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;YAC1C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACvC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;SAChC;IACL,CAAC;IAMD,UAAU,CAAC,KAAc,IAAI;IAE7B,CAAC;IAMD,IAAI,WAAW;QACX,OAAO,KAAK,CAAC;IACjB,CAAC;CACJ;AAED,UAAU,CAAC,QAAQ,CAAC,2BAA2B,EAAE,YAAY,CAAC,CAAC;AAC/D,UAAU,CAAC,QAAQ,CAAC,mBAAmB,EAAE,YAAY,CAAC,CAAC\"}",
  "dts": {
    "name": "D:/widgets/LayaDataStructuresAlgorithms/.rpt2_cache/placeholder/laya/physics/ColliderBase.d.ts",
    "writeByteOrderMark": false,
    "text": "import { Component } from \"../components/Component\";\r\nimport { RigidBody } from \"./RigidBody\";\r\nexport declare class ColliderBase extends Component {\r\n    private _isSensor;\r\n    private _density;\r\n    private _friction;\r\n    private _restitution;\r\n    label: string;\r\n    protected _shape: any;\r\n    protected _def: any;\r\n    fixture: any;\r\n    rigidBody: RigidBody;\r\n    protected getDef(): any;\r\n    _onEnable(): void;\r\n    private _checkRigidBody;\r\n    protected _onDestroy(): void;\r\n    isSensor: boolean;\r\n    density: number;\r\n    friction: number;\r\n    restitution: number;\r\n    refresh(): void;\r\n    resetShape(re?: boolean): void;\r\n    readonly isSingleton: boolean;\r\n}\r\n"
  }
}
